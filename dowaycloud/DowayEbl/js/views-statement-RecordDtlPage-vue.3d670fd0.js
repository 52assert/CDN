(window["webpackJsonp_cloud-ebl-app"]=window["webpackJsonp_cloud-ebl-app"]||[]).push([["views-statement-RecordDtlPage-vue"],{1815:function(e,t,n){"use strict";n("b550"),n("d79d")},"3f6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/CenterService/api/v1/tenant";function c(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}},"4feb":function(e,t,n){},"50ac":function(e,t,n){"use strict";n("b550"),n("d79d")},"5ed4":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return h}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/EblService/api/v1/statement";function c(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}function r(e){return Object(o["a"])({url:a+"/loadByIdReceived",method:"get",params:e})}function s(){return Object(o["a"])({url:a+"/queryAll",method:"get"})}function i(){return Object(o["a"])({url:a+"/queryAllReceived",method:"get"})}function d(e){return Object(o["a"])({url:a+"/generateInvoice",method:"post",data:e})}function u(e){return Object(o["a"])({url:a+"/add",method:"post",data:e})}function l(e){return Object(o["a"])({url:a+"/update",method:"post",data:e})}function f(e){return Object(o["a"])({url:a+"/sendStatement",method:"post",data:e})}function b(e){return Object(o["a"])({url:a+"/handleReceivedStatement",method:"post",data:e})}function m(e){return Object(o["a"])({url:a+"/searchByExp",method:"post",data:e})}function h(e){return Object(o["a"])({url:a+"/searchReceivedByExp",method:"post",data:e})}},"74d2":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/BaseService/api/v1/customer";function c(e){return Object(o["a"])({url:a+"/loadByName",method:"get",params:e})}function r(e){return Object(o["a"])({url:a+"/queryAllContacts",method:"get",params:e})}function s(){return Object(o["a"])({url:a+"/query",method:"get"})}},"7db0":function(e,t,n){"use strict";var o=n("23e7"),a=n("b727").find,c=n("44d2"),r=n("ae40"),s="find",i=!0,d=r(s);s in[]&&Array(1)[s]((function(){i=!1})),o({target:"Array",proto:!0,forced:i||!d},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c(s)},8190:function(e,t,n){"use strict";n("90cc")},"90cc":function(e,t,n){},"9a63":function(e,t,n){"use strict";var o=n("290c");o["a"].install=function(e){e.component(o["a"].name,o["a"])},t["a"]=o["a"]},a13b:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return h}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/EblService/api/v1/delivery";function c(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}function r(e){return Object(o["a"])({url:a+"/loadByIdReceived",method:"get",params:e})}function s(e){return Object(o["a"])({url:a+"/generateStatement",method:"post",data:e})}function i(){return Object(o["a"])({url:a+"/queryAll",method:"get"})}function d(){return Object(o["a"])({url:a+"/searchReceivedDelivery",method:"get"})}function u(e){return Object(o["a"])({url:a+"/adds",method:"post",data:e})}function l(e){return Object(o["a"])({url:a+"/handleReceiveDeliveryOrder",method:"post",data:e})}function f(e){return Object(o["a"])({url:a+"/deliveryImport",method:"post",data:e})}function b(e){return Object(o["a"])({url:a+"/sendDeliveryOrder",method:"post",data:e})}function m(e){return Object(o["a"])({url:a+"/searchByExp",method:"post",data:e})}function h(e){return Object(o["a"])({url:a+"/searchReceivedByExp",method:"post",data:e})}},a552:function(e,t,n){"use strict";n("4feb")},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,c=Function.prototype,r=c.toString,s=/^\s*function ([^ (]*)/,i="name";o&&!(i in c)&&a(c,i,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},e32c:function(e,t,n){"use strict";var o=n("da05");o["b"].install=function(e){e.component(o["b"].name,o["b"])},t["a"]=o["b"]},ea45:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),a=Object(o["withScopeId"])("data-v-26883c8e");Object(o["pushScopeId"])("data-v-26883c8e");var c={class:"header"},r=Object(o["createTextVNode"])("发送"),s=Object(o["createTextVNode"])("确认"),i=Object(o["createTextVNode"])("驳回"),d=Object(o["createTextVNode"])("保存"),u=Object(o["createTextVNode"])("编辑"),l=Object(o["createTextVNode"])("放弃"),f={class:"form"},b=Object(o["createTextVNode"])("基本信息"),m=Object(o["createVNode"])("br",null,null,-1),h=Object(o["createVNode"])("br",null,null,-1),p=Object(o["createVNode"])("br",null,null,-1),v=Object(o["createVNode"])("br",null,null,-1),j=Object(o["createVNode"])("br",null,null,-1),O=Object(o["createVNode"])("br",null,null,-1),y={class:"table"},g=Object(o["createTextVNode"])("对账详情"),w=Object(o["createVNode"])("i",{class:"iconfont icon-add1"},null,-1),I=Object(o["createTextVNode"])("添加明细"),V={style:{height:"475px",overflow:"auto"}};Object(o["popScopeId"])();var S=a((function(e,t,n,S,D,N){var k=Object(o["resolveComponent"])("a-button"),T=Object(o["resolveComponent"])("a-row"),x=Object(o["resolveComponent"])("a-input"),C=Object(o["resolveComponent"])("a-form-item"),R=Object(o["resolveComponent"])("a-select-option"),_=Object(o["resolveComponent"])("a-select"),B=Object(o["resolveComponent"])("a-range-picker"),E=Object(o["resolveComponent"])("a-form"),L=Object(o["resolveComponent"])("a-col"),q=Object(o["resolveComponent"])("BaseTableEditable"),F=Object(o["resolveComponent"])("a-table"),P=Object(o["resolveComponent"])("a-modal"),W=Object(o["resolveComponent"])("a-textarea");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",c,[Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:e.send},{default:a((function(){return[r]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&void 0!==e.id&&"draft"===e.statementInfo.status]]),Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[1]||(t[1]=function(t){return e.handleReceivedStatement("adopt")})},{default:a((function(){return[s]})),_:1},512),[[o["vShow"],"receive"===e.type&&void 0!==e.id&&"untreated"===e.delivery.status]]),Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[2]||(t[2]=function(t){return e.rejectReasonVisible=!0})},{default:a((function(){return[i]})),_:1},512),[[o["vShow"],"receive"===e.type&&void 0!==e.id&&"untreated"===e.delivery.status]]),Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:e.save},{default:a((function(){return[d]})),_:1},8,["onClick"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{color:"#5259e5",border:"1px solid #5259e5"},onClick:e.editDtl},{default:a((function(){return[u]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"view"===e.sysStatus&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{color:"#5259e5",border:"1px solid #5259e5"},onClick:e.cancelEdit},{default:a((function(){return[l]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"edit"===e.sysStatus]])]),Object(o["createVNode"])("div",f,[Object(o["createVNode"])(T,{class:"title"},{default:a((function(){return[b]})),_:1}),Object(o["createVNode"])(E,{ref:"statementForm",model:e.statementInfo,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:a((function(){return[m,Object(o["createVNode"])(C,{label:"对账单号",name:"code","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(x,{value:e.statementInfo.code,"onUpdate:value":t[3]||(t[3]=function(t){return e.statementInfo.code=t}),placeholder:"请输入对账单号"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.code),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(C,{label:"客户名称",name:"custName","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("div",null,[Object(o["createVNode"])(_,{"show-search":"",value:e.statementInfo.customerId,"onUpdate:value":t[4]||(t[4]=function(t){return e.statementInfo.customerId=t}),placeholder:"请选择客户名称",onFocus:e.focusHandler,style:{width:"100%"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":"无匹配项",onSearch:e.handleCustomerSearch,onSelect:e.handleCustomerSelect},{default:a((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.customers,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(R,{key:e.id},{default:a((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024)})),128))]})),_:1},8,["value","onFocus","onSearch","onSelect"])],512),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.custName),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(C,{label:"时间范围",name:"dateRange","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(B,{style:{width:"100%"},value:e.dateRange,"onUpdate:value":t[5]||(t[5]=function(t){return e.dateRange=t}),onChange:t[6]||(t[6]=function(t){return e.selectDate()})},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.startTime))+"——"+Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.endTime)),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),h,p,Object(o["createVNode"])(C,{label:"对账方",name:"statementParty","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(x,{value:e.statementInfo.statementParty,"onUpdate:value":t[7]||(t[7]=function(t){return e.statementInfo.statementParty=t}),placeholder:"请输入对账方名称"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.statementParty),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(C,{label:"对账金额",name:"amount","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(x,{value:e.statementInfo.amount,"onUpdate:value":t[8]||(t[8]=function(t){return e.statementInfo.amount=t}),placeholder:"请输入对账金额"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.amount),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(C,{label:"已收账款",name:"received","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(x,{value:e.statementInfo.received,"onUpdate:value":t[9]||(t[9]=function(t){return e.statementInfo.received=t}),placeholder:"请输入已收账款"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.received),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),v,j,Object(o["createVNode"])(C,{label:"欠款总额",name:"unreceived","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(x,{value:e.statementInfo.unreceived,"onUpdate:value":t[10]||(t[10]=function(t){return e.statementInfo.unreceived=t}),placeholder:"请输入欠款总额"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.unreceived),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1})]})),_:1},8,["model","rules"]),O]),Object(o["createVNode"])("div",y,[Object(o["createVNode"])(T,{class:"title"},{default:a((function(){return[Object(o["createVNode"])(L,{span:12,style:{"font-size":"24px"}},{default:a((function(){return[g]})),_:1}),Object(o["createVNode"])(L,{span:12,style:{"text-align":"right"}},{default:a((function(){return[Object(o["createVNode"])(k,{shape:"round",style:{border:"2px solid #5259e5",color:"#5259e5"},onClick:e.showDelModal},{default:a((function(){return[w,I]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(q,{columns:e.columns,sourceData:e.deliveryInfo,onRowDelete:e.rowDeleteHandler,editableCols:[]},null,8,["columns","sourceData","onRowDelete"])]),Object(o["createVNode"])(P,{visible:e.delShowVisible,"onUpdate:visible":t[11]||(t[11]=function(t){return e.delShowVisible=t}),title:"请选择相应的送货单",centered:"",width:"1080px",closable:!1,"mask-closable":!1,onOk:e.selectDel,okText:"确定",cancelText:"取消"},{default:a((function(){return[Object(o["createVNode"])("div",V,[Object(o["createVNode"])(F,{columns:e.columns,"data-source":e.delDtl,pagination:!1,"row-selection":e.rowSelection},null,8,["columns","data-source","row-selection"])])]})),_:1},8,["visible","onOk"]),Object(o["createVNode"])(P,{visible:e.rejectReasonVisible,"onUpdate:visible":t[13]||(t[13]=function(t){return e.rejectReasonVisible=t}),centered:"",closable:!1,"mask-closable":!1,onOk:t[14]||(t[14]=function(t){return e.handleReceivedStatement("reject")}),okText:"确定",cancelText:"取消"},{default:a((function(){return[Object(o["createVNode"])(W,{value:e.reason,"onUpdate:value":t[12]||(t[12]=function(t){return e.reason=t}),placeholder:"请输入驳回原因",rows:8},null,8,["value"])]})),_:1},8,["visible"])],64)})),D=(n("7db0"),n("4160"),n("a434"),n("d3b7"),n("159b"),n("368b"),n("56cd")),N=(n("02cf"),n("9839")),k=(n("a71a"),n("b558")),T=(n("04f3"),n("ed3b")),x=(n("1815"),n("e32c")),C=(n("50ac"),n("9a63")),R=(n("e1f5"),n("5efb")),_=n("9096"),B=n("5f70"),E=n.n(B),L=n("5ed4"),q=n("a13b"),F=n("74d2"),P=n("3f6c"),W=Object(o["defineComponent"])({components:{"a-button":R["a"],"a-row":C["a"],"a-col":x["a"],"a-modal":T["a"],"a-input":k["a"],"a-select":N["b"],BaseTableEditable:_["a"]},setup:function(){var e=Object(o["ref"])("view"),t=Object(o["reactive"])([{title:"序号",dataIndex:"key",key:"key",width:70},{title:"装运单号",dataIndex:"code",key:"code",slots:{customRender:"code"}},{title:"订单日期",dataIndex:"orderDate",key:"orderDate",ellipsis:!0,slots:{customRender:"orderDate"}},{title:"送货日期",dataIndex:"deliveryDate",key:"deliveryDate",ellipsis:!0,slots:{customRender:"deliveryDate"}},{title:"总重量",dataIndex:"totalWeight",key:"totalWeight",ellipsis:!0,slots:{customRender:"totalWeight"}},{title:"总体积",dataIndex:"totalVol",key:"totalVol",ellipsis:!0,slots:{customRender:"totalVol"}},{title:"路线",dataIndex:"route",key:"route",ellipsis:!0,slots:{customRender:"route"}},{title:"运输方式",dataIndex:"shippingType",key:"shippingType",ellipsis:!0,slots:{customRender:"shippingType"}},{title:"客户名称",dataIndex:"shipTo",key:"shipTo",ellipsis:!0,slots:{customRender:"shipTo"}},{title:"联系人",dataIndex:"contacts",key:"contacts",ellipsis:!0,slots:{customRender:"contacts"}},{title:"联系方式",dataIndex:"tel",key:"tel",ellipsis:!0,slots:{customRender:"tel"}},{title:"收货地址",dataIndex:"address",key:"address",ellipsis:!0,slots:{customRender:"address"}},{title:"操作",dataIndex:"operation",key:"operation",slots:{customRender:"operation"}}]),n=Object(o["reactive"])({id:"",code:"",custName:void 0,customerId:"",startTime:E()(),endTime:E()(),statementParty:"",amount:0,received:0,unreceived:0,authorizationCode:"",businessLicense:"",senderBusinessLicense:"",status:"",rowVersion:"",deliveries:[]}),a=Object(o["reactive"])([]),c=function(e,t,n){return null===t?Promise.reject(e.message):Promise.resolve()},r=Object(o["reactive"])({code:[{required:!0,message:"对账单号不能为空",trigger:"blur"}],custName:[{required:!0,message:"客户名称不能为空",trigger:"blur"}],statementParty:[{required:!0,message:"对账方名称不能为空",trigger:"blur"}],dateRange:[{validator:c,message:"请选择时间范围",trigger:"blur"}],amount:[{required:!0,message:"对账金额不能为空",trigger:"blur"}],received:[{required:!0,message:"已收金额不能为空",trigger:"blur"}],unreceived:[{required:!0,message:"欠款总额不能为空",trigger:"blur"}]}),s=function(){e.value="edit"},i=Object(o["ref"])(!1),d=Object(o["reactive"])([]),u=function(){i.value=!0,Object(q["g"])().then((function(e){e.content.forEach((function(e){d.push({key:String(d.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},l=Object(o["reactive"])([]),f=[],b=Object(o["reactive"])({onChange:function(e,t){void 0!==t&&(f=t)}}),m=function(){i.value=!1,l=f,l.forEach((function(e){a.push({key:String(a.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))},h=Object(o["ref"])([n.startTime,n.endTime]),p=Object(o["ref"])(!1),v=Object(o["ref"])(""),j=function(){T["a"].warning({title:"请确认",content:"确定要发送当前送货单吗？",onOk:function(){Object(L["j"])([n.id]).then((function(e){200===e.code&&D["a"].success({message:"成功",description:"发送成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},onCancel:function(){}})},O=function(e){a.forEach((function(t,n,o){t.key===e&&o.splice(n,1)}))};return{sysStatus:e,columns:t,statementInfo:n,deliveryInfo:a,editDtl:s,delShowVisible:i,delDtl:d,showDelModal:u,chooseInfo:l,rowSelection:b,selectDel:m,dateRange:h,rejectReasonVisible:p,reason:v,send:j,rowDeleteHandler:O,rules:r}},data:function(){return{type:this.$route.query.type,id:this.$route.query.id,customers:[]}},created:function(){"string"===typeof this.id&&"string"===typeof this.type?(this.getData(this.id,this.type),this.sysStatus="view"):(this.loadTenant(),this.sysStatus="edit")},methods:{loadTenant:function(){var e=this;Object(P["a"])({id:localStorage.getItem("doway_cloud_tenant_id")}).then((function(t){200===t.code&&(e.statementInfo.senderBusinessLicense=t.content.creditCode)})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},focusHandler:function(){var e=this;Object(F["b"])().then((function(t){e.customers=t.content}))},selectDate:function(){this.statementInfo.startTime=this.dateRange[0],this.statementInfo.endTime=this.dateRange[1]},handleCustomerSelect:function(e){var t=this.customers.find((function(t){return t.id===e}));this.statementInfo.custName=t.name,this.statementInfo.authorizationCode=t.authorizationCode,this.statementInfo.businessLicense=t.businessLicense},handleCustomerSearch:function(e){var t=this;t.customers=[],Object(F["a"])({name:e}).then((function(e){t.customers=e.content})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},cancelEdit:function(){"string"===typeof this.id?this.sysStatus="view":this.$router.go(-1)},textFormat:function(e){switch(e){case"draft":return"草稿";case"published":return"已发布";case"confirmed":return"已确认";case"rejected":return"已驳回";case"untreated":return"未处理";default:return e}},getData:function(e,t){var n=this;"send"===t?Object(L["c"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.received=e.content.received,n.statementInfo.unreceived=e.content.unreceived,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveries.forEach((function(e){n.deliveryInfo.push({key:String(n.statementInfo.deliveries.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)})):Object(L["e"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.received=e.content.received,n.statementInfo.unreceived=e.content.unreceived,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveryReceiveds.forEach((function(e){n.deliveryInfo.push({key:String(n.deliveryInfo.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},handleReceivedStatement:function(e){var t=this,n={ids:[t.statementInfo.id],result:e,reason:t.reason};Object(L["d"])(n).then((function(e){t.rejectReasonVisible=!1,200===e.code&&D["a"].success({message:"成功",description:"接收成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},save:function(){var e=this;e.statementInfo.deliveries=e.deliveryInfo;var t=e.$refs.statementForm;t.validate().then((function(){var t=e.statementInfo;"string"===typeof e.id?Object(L["k"])(t).then((function(t){e.sysStatus="view","200"===t.code&&D["a"].success({message:"成功",description:"保存成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)})):Object(L["a"])(t).then((function(t){e.sysStatus="view","200"===t.code&&D["a"].success({message:"成功",description:"保存成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))})).catch((function(e){console.debug(e)}))},dateFormat:function(e){return E()(e).format("YYYY-MM-DD")}}});n("8190"),n("a552");W.render=S,W.__scopeId="data-v-26883c8e";t["default"]=W}}]);