(window["webpackJsonp_cloud-ebl-app"]=window["webpackJsonp_cloud-ebl-app"]||[]).push([["views-delivery-RecordDtlPage-vue"],{"2bbf":function(e,t,n){},"74d2":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/BaseService/api/v1/customer";function r(e){return Object(o["a"])({url:c+"/loadByName",method:"get",params:e})}function a(e){return Object(o["a"])({url:c+"/queryAllContacts",method:"get",params:e})}function i(){return Object(o["a"])({url:c+"/query",method:"get"})}},"7c49":function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),c=Object(o["withScopeId"])("data-v-c3e83fce");Object(o["pushScopeId"])("data-v-c3e83fce");var r={class:"header"},a=Object(o["createTextVNode"])("发送"),i=Object(o["createTextVNode"])("确认"),s=Object(o["createTextVNode"])("驳回"),d=Object(o["createTextVNode"])("保存为草稿"),l={style:{float:"right","text-align":"center"}},u=Object(o["createVNode"])("a",{href:"http://cloud.dowaycn.com/Gateway/EblService/api/v1/delivery/deliveryDown"},"下载模板",-1),v=Object(o["createTextVNode"])("上传文件"),p={class:"info"},b={class:"box"},f=Object(o["createVNode"])("span",{class:"title"},"基本信息",-1),y=Object(o["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1),h=Object(o["createTextVNode"])("送货单号"),j=Object(o["createTextVNode"])("收货方"),O=Object(o["createTextVNode"])("送货方"),m=Object(o["createTextVNode"])("订单日期"),w=Object(o["createTextVNode"])("收货联系人"),V=Object(o["createTextVNode"])("送货联系人"),g=Object(o["createTextVNode"])("送货日期"),N=Object(o["createTextVNode"])("联系方式"),S=Object(o["createTextVNode"])("路线"),D=Object(o["createTextVNode"])("总重量"),x=Object(o["createTextVNode"])("收货地址"),C=Object(o["createTextVNode"])("运输方式"),T=Object(o["createTextVNode"])("总体积"),_=Object(o["createTextVNode"])("送货金额"),k={class:"box"},I=Object(o["createVNode"])("span",{class:"title"},"送货信息",-1),R=Object(o["createTextVNode"])(" 添加明细 "),B=Object(o["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1);Object(o["popScopeId"])();var q=c((function(e,t,n,q,F,L){var U=Object(o["resolveComponent"])("a-button"),M=Object(o["resolveComponent"])("a-upload"),E=Object(o["resolveComponent"])("a-col"),W=Object(o["resolveComponent"])("a-input"),z=Object(o["resolveComponent"])("a-select-option"),Y=Object(o["resolveComponent"])("a-select"),A=Object(o["resolveComponent"])("a-row"),H=Object(o["resolveComponent"])("a-date-picker"),G=Object(o["resolveComponent"])("BaseTableEditable"),J=Object(o["resolveComponent"])("a-textarea"),$=Object(o["resolveComponent"])("a-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",r,[Object(o["withDirectives"])(Object(o["createVNode"])(U,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:e.send},{default:c((function(){return[a]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(U,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[1]||(t[1]=function(t){return e.handleReceivedDeliveryOrder("adopt")})},{default:c((function(){return[i]})),_:1},512),[[o["vShow"],"receive"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(U,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[2]||(t[2]=function(t){return e.rejectReasonVisible=!0})},{default:c((function(){return[s]})),_:1},512),[[o["vShow"],"receive"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(U,{style:{color:"#5259e5",border:"1px solid #5259e5"},onClick:e.saveAsDraft},{default:c((function(){return[d]})),_:1},8,["onClick"]),[[o["vShow"],"string"!==typeof this.id]]),Object(o["createVNode"])("div",l,[Object(o["createVNode"])(U,{style:{"margin-right":"10px"}},{default:c((function(){return[u]})),_:1}),Object(o["createVNode"])(M,{ref:"upload",action:"",multiple:!0,"file-list":e.fileList,"auto-upload":!1,limit:1,customRequest:e.importWordConfirm},{default:c((function(){return[Object(o["createVNode"])(U,{style:{color:"#5259e5",border:"1px solid #5259e5"}},{default:c((function(){return[v]})),_:1})]})),_:1},8,["file-list","customRequest"])])]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",b,[f,y,Object(o["createVNode"])(A,{style:{margin:"20px 0px"}},{default:c((function(){return[Object(o["createVNode"])(E,{span:2,class:"text"},{default:c((function(){return[h]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.code),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.code,"onUpdate:value":t[3]||(t[3]=function(t){return e.delivery.code=t}),placeholder:"请输入送货单号"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[j]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.shipTo),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("div",null,[Object(o["createVNode"])(Y,{"show-search":"",value:e.delivery.customerId,"onUpdate:value":t[4]||(t[4]=function(t){return e.delivery.customerId=t}),placeholder:"请选择收货方",onFocus:e.focus,style:{width:"100%"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":"无匹配项",onSearch:e.handleCustomerSearch,onSelect:e.handleCustomerSelect},{default:c((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.customers,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(z,{key:e.id},{default:c((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024)})),128))]})),_:1},8,["value","onFocus","onSearch","onSelect"])],512),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[O]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.shipper),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{disabled:"",value:e.delivery.shipper,"onUpdate:value":t[5]||(t[5]=function(t){return e.delivery.shipper=t}),placeholder:"请输入送货方名称"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{style:{margin:"20px 0px"}},{default:c((function(){return[Object(o["createVNode"])(E,{span:2,class:"text"},{default:c((function(){return[m]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.dateFormat(e.delivery.orderDate)),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(H,{placeholder:"请选择日期",value:e.delivery.orderDate,"onUpdate:value":t[6]||(t[6]=function(t){return e.delivery.orderDate=t}),style:{width:"100%"}},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[w]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.contacts),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("div",null,[Object(o["createVNode"])(Y,{"show-search":"",value:e.delivery.contacts,"onUpdate:value":t[7]||(t[7]=function(t){return e.delivery.contacts=t}),placeholder:"请选择收货联系人",onFocus:e.focusDeliCont,style:{width:"100%"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":"无匹配项",onSearch:e.handleSearch,onSelect:e.handleSelect},{default:c((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.customerContacts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(z,{key:e.id},{default:c((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.contacts),1)]})),_:2},1024)})),128))]})),_:1},8,["value","onFocus","onSearch","onSelect"])],512),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[V]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.shipperTel),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.shipperTel,"onUpdate:value":t[8]||(t[8]=function(t){return e.delivery.shipperTel=t}),placeholder:"请输入送货联系人"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{style:{margin:"20px 0px"}},{default:c((function(){return[Object(o["createVNode"])(E,{span:2,class:"text"},{default:c((function(){return[g]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.dateFormat(e.delivery.deliveryDate)),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(H,{placeholder:"请选择日期",value:e.delivery.deliveryDate,"onUpdate:value":t[9]||(t[9]=function(t){return e.delivery.deliveryDate=t}),style:{width:"100%"}},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[N]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.tel),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.tel,"onUpdate:value":t[10]||(t[10]=function(t){return e.delivery.tel=t}),placeholder:"请输入联系方式"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[S]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.route),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.route,"onUpdate:value":t[11]||(t[11]=function(t){return e.delivery.route=t}),placeholder:"请输入路线"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{style:{margin:"20px 0px"}},{default:c((function(){return[Object(o["createVNode"])(E,{span:2,class:"text"},{default:c((function(){return[D]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.totalWeight),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.totalWeight,"onUpdate:value":t[12]||(t[12]=function(t){return e.delivery.totalWeight=t}),placeholder:"请输入总重量"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[x]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.address),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.address,"onUpdate:value":t[13]||(t[13]=function(t){return e.delivery.address=t}),placeholder:"请输入收货地址"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[C]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.shippingType),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{vlaue:e.delivery.shippingType,"onUpdate:vlaue":t[14]||(t[14]=function(t){return e.delivery.shippingType=t}),placeholder:"请输入运输方式"},null,8,["vlaue"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{style:{margin:"20px 0px"}},{default:c((function(){return[Object(o["createVNode"])(E,{span:2,class:"text"},{default:c((function(){return[T]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.totalVol),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.totalVol,"onUpdate:value":t[15]||(t[15]=function(t){return e.delivery.totalVol=t}),placeholder:"请输入总体积"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(E,{offset:1,span:2,class:"text"},{default:c((function(){return[_]})),_:1}),Object(o["createVNode"])(E,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.delivery.amount),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(W,{value:e.delivery.amount,"onUpdate:value":t[16]||(t[16]=function(t){return e.delivery.amount=t}),placeholder:"请输入送货金额"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1})]),Object(o["createVNode"])("div",k,[I,Object(o["createVNode"])(U,{style:{float:"right",color:"#5259e5",border:"1px solid #5259e5"},onClick:e.addDeliveryDtl},{default:c((function(){return[R]})),_:1},8,["onClick"]),B,Object(o["createVNode"])(G,{columns:e.columns,sourceData:e.deliveryMats,editableCols:e.editableCols,onRowDelete:e.rowDeleteHandler,onCancelEdit:e.cancelEditHandler},null,8,["columns","sourceData","editableCols","onRowDelete","onCancelEdit"])])]),Object(o["createVNode"])($,{visible:e.rejectReasonVisible,"onUpdate:visible":t[18]||(t[18]=function(t){return e.rejectReasonVisible=t}),centered:"",closable:!1,"mask-closable":!1,onOk:t[19]||(t[19]=function(t){return e.handleReceivedDeliveryOrder("reject")}),okText:"确定",cancelText:"取消"},{default:c((function(){return[Object(o["createVNode"])(J,{value:e.reason,"onUpdate:value":t[17]||(t[17]=function(t){return e.reason=t}),placeholder:"请输入驳回原因",rows:8},null,8,["value"])]})),_:1},8,["visible"])],64)})),F=(n("7db0"),n("4160"),n("a434"),n("a9e3"),n("159b"),n("368b"),n("56cd")),L=(n("7a59"),n("39ab")),U=(n("02cf"),n("9839")),M=(n("519e"),n("0bb7")),E=(n("a71a"),n("b558")),W=(n("04f3"),n("ed3b")),z=(n("1815"),n("e32c")),Y=(n("50ac"),n("9a63")),A=(n("e1f5"),n("5efb")),H=n("c1df"),G=n.n(H),J=n("a13b"),$=n("74d2"),P=n("9096"),K=n("3f6c"),Q=Object(o["defineComponent"])({components:{"a-button":A["a"],"a-row":Y["a"],"a-col":z["a"],"a-modal":W["a"],"a-input":E["a"],"a-date-picker":M["a"],"a-select":U["b"],"a-upload":L["a"],BaseTableEditable:P["a"]},setup:function(){var e=Object(o["ref"])("view"),t=Object(o["reactive"])([{title:"序号",dataIndex:"key",key:"key",slots:{customRender:"key"},width:70},{title:"物料编码",dataIndex:"code",key:"code",slots:{customRender:"code"}},{title:"规格型号",dataIndex:"name",key:"name",slots:{customRender:"name"}},{title:"送货数量",dataIndex:"qty",key:"qty",ellipsis:!0,slots:{customRender:"qty"}},{title:"送货金额",dataIndex:"amount",key:"amount",ellipsis:!0,slots:{customRender:"amount"}},{title:"销售单号",dataIndex:"salesCode",key:"salesCode",ellipsis:!0,slots:{customRender:"salesCode"}},{title:"行体积",dataIndex:"vol",key:"vol",ellipsis:!0,slots:{customRender:"vol"}},{title:"操作",dataIndex:"operation",key:"operation",slots:{customRender:"operation"}}]),n=Object(o["reactive"])({id:"",code:"",shipTo:"",customerId:void 0,shipper:"",orderDate:G()(),contacts:void 0,deliveryDate:G()(),tel:"",route:"",totalWeight:0,address:"",shippingType:"",shipperTel:"",totalVol:0,status:"",amount:0,authorizationCode:"",businessLicense:"",senderBusinessLicense:"",rowVersion:"",deliveryMats:[]}),c=Object(o["reactive"])([]),r=["code","name","qty","amount","salesCode","vol"],a=Object(o["ref"])([]),i=function(){c.push({key:String(c.length+1),id:"",code:"",name:"",qty:0,amount:0,salesCode:"",purCode:"",vol:0,deliveryId:""})},s=function(e){c.forEach((function(t,n,o){t.key===e&&o.splice(n,1)}))},d=function(e){c.forEach((function(t,n,o){t.key===e&&(o[n].code="",o[n].name="",o[n].qty=0,o[n].amount=0,o[n].salesCode="",o[n].vol=0)}))},l=Object(o["ref"])(!1),u=Object(o["ref"])(""),v=function(){W["a"].warning({title:"请确认",content:"确定要发送当前送货单吗？",onOk:function(){Object(J["i"])([n.id]).then((function(e){200===e.code&&F["a"].success({message:"成功",description:"发送成功"})})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},onCancel:function(){}})};return{sysStatus:e,columns:t,delivery:n,deliveryMats:c,editableCols:r,fileList:a,addDeliveryDtl:i,rowDeleteHandler:s,cancelEditHandler:d,rejectReasonVisible:l,send:v,reason:u}},data:function(){return{id:this.$route.query.id,type:this.$route.query.type,customers:[],customerContacts:[],customerId:""}},created:function(){"string"===typeof this.id&&"string"===typeof this.type?(this.getData(this.id,this.type),this.sysStatus="view"):(this.loadTenant(),this.sysStatus="edit")},methods:{loadTenant:function(){var e=this;Object(K["a"])({id:localStorage.getItem("doway_cloud_tenant_id")}).then((function(t){200===t.code&&(e.delivery.senderBusinessLicense=t.content.creditCode,e.delivery.shipper=t.content.name,e.delivery.shipperTel=t.content.director)})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},focus:function(){var e=this;Object($["b"])().then((function(t){e.customers=t.content}))},focusDeliCont:function(){var e=this;Object($["c"])({customerId:this.customerId}).then((function(t){e.customerContacts=t.content}))},handleCustomerSelect:function(e){var t=this.customers.find((function(t){return t.id===e}));this.delivery.shipTo=t.name,this.delivery.address=t.address,this.delivery.authorizationCode=t.authorizationCode,this.delivery.businessLicense=t.businessLicense,this.customerId=e},handleCustomerSearch:function(e){var t=this;t.customers=[],Object($["a"])({name:e}).then((function(e){t.customers=e.content})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},handleSelect:function(e){var t=this.customerContacts.find((function(t){return t.id=e}));this.delivery.contacts=t.contacts,this.delivery.tel=null===t.mobile?t.mobile:t.tel},handleSearch:function(e){var t=this;t.customerContacts=[],Object($["c"])({customerId:this.customerId}).then((function(e){t.customerContacts=e.content})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},importWordConfirm:function(e){var t=e.file,n=new FormData;n.append("file",t),Object(J["b"])(n).then((function(e){F["a"].success({message:"成功",description:e.msg})})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},dateFormat:function(e){return G()(e).format("YYYY-MM-DD")},saveAsDraft:function(){var e=this;e.delivery.deliveryMats=e.deliveryMats;var t=[];t.push(e.delivery),Object(J["a"])(t).then((function(t){200===t.code&&(F["a"].success({message:"成功",description:"录入送货单成功"}),e.sysStatus="view")})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},formatDate:function(e,t){var n=new Date(24*(e-1)*36e5+1);n.setFullYear(n.getFullYear()-70);var o=n.getFullYear()+"",c=n.getMonth()+1+"",r=n.getDate()-1+"";return t&&1===t.length?o+t+c+t+r:o+(Number(c)<10?"0"+c:c)+(Number(r)<10?"0"+r:r)},textFormat:function(e){switch(e){case"saveAsDraft":return"草稿";case"published":return"已发布";case"confirmed":return"已确认";case"rejected":return"已驳回";case"untreated":return"未处理";default:return e}},getData:function(e,t){var n=this;"send"===t?Object(J["d"])({id:e}).then((function(e){n.delivery.id=e.content.id,n.delivery.code=e.content.code,n.delivery.shipTo=e.content.shipTo,n.delivery.customerId=e.content.customerId,n.delivery.shipper=e.content.shipper,n.delivery.shipperTel=e.content.shipperTel,n.delivery.orderDate=e.content.orderDate,n.delivery.contacts=e.content.contacts,n.delivery.deliveryDate=e.content.deliveryDate,n.delivery.tel=e.content.tel,n.delivery.route=e.content.route,n.delivery.totalWeight=e.content.totalWeight,n.delivery.address=e.content.address,n.delivery.shippingType=e.content.shippingType,n.delivery.totalVol=e.content.totalVol,n.delivery.amount=e.content.amount,n.delivery.status=n.textFormat(e.content.status),n.delivery.authorizationCode=e.content.authorizationCode,n.delivery.businessLicense=e.content.businessLicense,n.delivery.senderBusinessLicense=e.content.senderBusinessLicense,n.delivery.rowVersion=e.content.rowVersion,e.content.deliveryMats.forEach((function(e){n.deliveryMats.push({key:String(n.deliveryMats.length+1),id:e.code,code:e.code,name:e.name,qty:e.qty,amount:e.amount,salesCode:e.salesCode,purCode:e.purCode,vol:e.purCode,deliveryId:e.deliveryId})}))})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)})):Object(J["f"])({id:e}).then((function(e){n.delivery.id=e.content.id,n.delivery.code=e.content.code,n.delivery.shipTo=e.content.shipTo,n.delivery.customerId=e.content.customerId,n.delivery.shipper=e.content.shipper,n.delivery.orderDate=e.content.orderDate,n.delivery.contacts=e.content.contacts,n.delivery.deliveryDate=e.content.deliveryDate,n.delivery.tel=e.content.tel,n.delivery.route=e.content.route,n.delivery.totalWeight=e.content.totalWeight,n.delivery.address=e.content.address,n.delivery.shippingType=e.content.shippingType,n.delivery.totalVol=e.content.totalVol,n.delivery.amount=e.content.amount,n.delivery.status=n.textFormat(e.content.status),n.delivery.authorizationCode=e.content.authorizationCode,n.delivery.businessLicense=e.content.businessLicense,n.delivery.senderBusinessLicense=e.content.senderBusinessLicense,n.delivery.rowVersion=e.content.rowVersion,e.content.deliveryMats.forEach((function(e){n.deliveryMats.push({key:String(n.deliveryMats.length+1),id:e.code,code:e.code,name:e.name,qty:e.qty,amount:e.amount,salesCode:e.salesCode,purCode:e.purCode,vol:e.purCode,deliveryId:e.deliveryId})}))})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))},handleReceivedDeliveryOrder:function(e){var t=this,n={ids:[this.delivery.id],result:e,reason:this.reason};Object(J["e"])(n).then((function(e){t.rejectReasonVisible=!1,200===e.code&&F["a"].success({message:"成功",description:"接收成功"})})).catch((function(e){F["a"].error({message:"错误",description:e}),console.debug(e)}))}}});n("e511");Q.render=q,Q.__scopeId="data-v-c3e83fce";t["default"]=Q},a13b:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return v})),n.d(t,"i",(function(){return p}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/EblService/api/v1/delivery";function r(e){return Object(o["a"])({url:c+"/loadById",method:"get",params:e})}function a(e){return Object(o["a"])({url:c+"/loadByIdReceived",method:"get",params:e})}function i(e){return Object(o["a"])({url:c+"/generateStatement",method:"post",data:e})}function s(){return Object(o["a"])({url:c+"/queryAll",method:"get"})}function d(){return Object(o["a"])({url:c+"/searchReceivedDelivery",method:"get"})}function l(e){return Object(o["a"])({url:c+"/adds",method:"post",data:e})}function u(e){return Object(o["a"])({url:c+"/handleReceiveDeliveryOrder",method:"post",data:e})}function v(e){return Object(o["a"])({url:c+"/deliveryImport",method:"post",data:e})}function p(e){return Object(o["a"])({url:c+"/sendDeliveryOrder",method:"post",data:e})}},e511:function(e,t,n){"use strict";n("2bbf")}}]);