(window["webpackJsonp_cloud-ebl-app"]=window["webpackJsonp_cloud-ebl-app"]||[]).push([["views-statement-RecordDtlPage-vue"],{1815:function(e,t,n){"use strict";n("b550"),n("d79d")},"3f6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/CenterService/api/v1/tenant";function a(e){return Object(o["a"])({url:c+"/loadById",method:"get",params:e})}},"40e8":function(e,t,n){"use strict";n("8202")},"50ac":function(e,t,n){"use strict";n("b550"),n("d79d")},"5ed4":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return b}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/EblService/api/v1/statement";function a(e){return Object(o["a"])({url:c+"/loadById",method:"get",params:e})}function r(e){return Object(o["a"])({url:c+"/loadByIdReceived",method:"get",params:e})}function s(){return Object(o["a"])({url:c+"/queryAll",method:"get"})}function i(){return Object(o["a"])({url:c+"/queryAllReceived",method:"get"})}function d(e){return Object(o["a"])({url:c+"/generateInvoice",method:"post",data:e})}function u(e){return Object(o["a"])({url:c+"/add",method:"post",data:e})}function l(e){return Object(o["a"])({url:c+"/update",method:"post",data:e})}function f(e){return Object(o["a"])({url:c+"/sendStatement",method:"post",data:e})}function b(e){return Object(o["a"])({url:c+"/handleReceivedStatement",method:"post",data:e})}},"74d2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/BaseService/api/v1/customer";function a(e){return Object(o["a"])({url:c+"/loadByName",method:"get",params:e})}function r(e){return Object(o["a"])({url:c+"/queryAllContacts",method:"get",params:e})}function s(){return Object(o["a"])({url:c+"/query",method:"get"})}},"7db0":function(e,t,n){"use strict";var o=n("23e7"),c=n("b727").find,a=n("44d2"),r=n("ae40"),s="find",i=!0,d=r(s);s in[]&&Array(1)[s]((function(){i=!1})),o({target:"Array",proto:!0,forced:i||!d},{find:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},8202:function(e,t,n){},"9a63":function(e,t,n){"use strict";var o=n("290c");o["a"].install=function(e){e.component(o["a"].name,o["a"])},t["a"]=o["a"]},a13b:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return b}));var o=n("b32d"),c="http://cloud.dowaycn.com/Gateway/EblService/api/v1/delivery";function a(e){return Object(o["a"])({url:c+"/loadById",method:"get",params:e})}function r(e){return Object(o["a"])({url:c+"/loadByIdReceived",method:"get",params:e})}function s(e){return Object(o["a"])({url:c+"/generateStatement",method:"post",data:e})}function i(){return Object(o["a"])({url:c+"/queryAll",method:"get"})}function d(){return Object(o["a"])({url:c+"/searchReceivedDelivery",method:"get"})}function u(e){return Object(o["a"])({url:c+"/adds",method:"post",data:e})}function l(e){return Object(o["a"])({url:c+"/handleReceiveDeliveryOrder",method:"post",data:e})}function f(e){return Object(o["a"])({url:c+"/deliveryImport",method:"post",data:e})}function b(e){return Object(o["a"])({url:c+"/sendDeliveryOrder",method:"post",data:e})}},b0c0:function(e,t,n){var o=n("83ab"),c=n("9bf2").f,a=Function.prototype,r=a.toString,s=/^\s*function ([^ (]*)/,i="name";o&&!(i in a)&&c(a,i,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},e32c:function(e,t,n){"use strict";var o=n("da05");o["b"].install=function(e){e.component(o["b"].name,o["b"])},t["a"]=o["b"]},ea45:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),c=Object(o["withScopeId"])("data-v-0ecc83b2");Object(o["pushScopeId"])("data-v-0ecc83b2");var a={class:"prd_wrapper"},r={class:"header"},s=Object(o["createTextVNode"])("发送"),i=Object(o["createTextVNode"])("确认"),d=Object(o["createTextVNode"])("驳回"),u=Object(o["createTextVNode"])("保存"),l=Object(o["createTextVNode"])("编辑"),f=Object(o["createTextVNode"])("放弃"),b=Object(o["createVNode"])("i",{class:"iconfont icon-shangchuan",style:{"font-size":"35px",color:"#212240",float:"right",margin:"-12px 15px 0px 0px"}},null,-1),p={class:"form"},m=Object(o["createTextVNode"])("基本信息"),h=Object(o["createTextVNode"])("对账单号"),v=Object(o["createTextVNode"])("客户名称"),j=Object(o["createTextVNode"])("时间范围"),O=Object(o["createTextVNode"])("对账方"),y=Object(o["createTextVNode"])("对账金额"),g=Object(o["createTextVNode"])("已收账款"),w=Object(o["createTextVNode"])("欠款总额"),V={class:"table"},I=Object(o["createTextVNode"])("对账详情"),S=Object(o["createVNode"])("i",{class:"iconfont icon-add1"},null,-1),N=Object(o["createTextVNode"])("添加明细"),x={style:{height:"475px",overflow:"auto"}};Object(o["popScopeId"])();var T=c((function(e,t,n,T,D,k){var C=Object(o["resolveComponent"])("a-button"),_=Object(o["resolveComponent"])("a-row"),R=Object(o["resolveComponent"])("a-col"),B=Object(o["resolveComponent"])("a-input"),L=Object(o["resolveComponent"])("a-select-option"),W=Object(o["resolveComponent"])("a-select"),E=Object(o["resolveComponent"])("a-range-picker"),F=Object(o["resolveComponent"])("BaseTableEditable"),U=Object(o["resolveComponent"])("a-table"),z=Object(o["resolveComponent"])("a-modal"),P=Object(o["resolveComponent"])("a-textarea");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("div",r,[Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:e.send},{default:c((function(){return[s]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[1]||(t[1]=function(t){return e.handleReceivedStatement("adopt")})},{default:c((function(){return[i]})),_:1},512),[[o["vShow"],"receive"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:t[2]||(t[2]=function(t){return e.rejectReasonVisible=!0})},{default:c((function(){return[d]})),_:1},512),[[o["vShow"],"receive"===e.type&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{background:"#5259e5",color:"#fff",margin:"0px 10px"},onClick:e.save},{default:c((function(){return[u]})),_:1},8,["onClick"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{color:"#5259e5",border:"1px solid #5259e5"},onClick:e.editDtl},{default:c((function(){return[l]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"view"===e.sysStatus&&"string"===typeof this.id]]),Object(o["withDirectives"])(Object(o["createVNode"])(C,{style:{color:"#5259e5",border:"1px solid #5259e5"},onClick:e.cancelEdit},{default:c((function(){return[f]})),_:1},8,["onClick"]),[[o["vShow"],"send"===e.type&&"edit"===e.sysStatus]]),b]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])(_,{class:"title"},{default:c((function(){return[m]})),_:1}),Object(o["createVNode"])(_,{style:{margin:"10px 0px"}},{default:c((function(){return[Object(o["createVNode"])(R,{span:2,class:"text"},{default:c((function(){return[h]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.code),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{value:e.statementInfo.code,"onUpdate:value":t[3]||(t[3]=function(t){return e.statementInfo.code=t}),placeholder:"请输入对账单号"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(R,{offset:1,span:2,class:"text"},{default:c((function(){return[v]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.custName),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("div",null,[Object(o["createVNode"])(W,{"show-search":"",value:e.statementInfo.customerId,"onUpdate:value":t[4]||(t[4]=function(t){return e.statementInfo.customerId=t}),placeholder:"请选择客户名称",onFocus:e.focus,style:{width:"100%"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":"无匹配项",onSearch:e.handleCustomerSearch,onSelect:e.handleCustomerSelect},{default:c((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.customers,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:e.id},{default:c((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024)})),128))]})),_:1},8,["value","onFocus","onSearch","onSelect"])],512),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(R,{offset:1,span:2,class:"text"},{default:c((function(){return[j]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.startTime))+"——"+Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.endTime)),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(E,{value:e.dateRange,"onUpdate:value":t[5]||(t[5]=function(t){return e.dateRange=t})},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(_,{style:{margin:"10px 0px"}},{default:c((function(){return[Object(o["createVNode"])(R,{span:2,class:"text"},{default:c((function(){return[O]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.statementParty),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{value:e.statementInfo.statementParty,"onUpdate:value":t[6]||(t[6]=function(t){return e.statementInfo.statementParty=t}),placeholder:"请输入对账方名称"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(R,{offset:1,span:2,class:"text"},{default:c((function(){return[y]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.amount),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{value:e.statementInfo.amount,"onUpdate:value":t[7]||(t[7]=function(t){return e.statementInfo.amount=t}),placeholder:"请输入对账金额"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(R,{offset:1,span:2,class:"text"},{default:c((function(){return[g]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.received),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{value:e.statementInfo.received,"onUpdate:value":t[8]||(t[8]=function(t){return e.statementInfo.received=t}),placeholder:"请输入已收账款"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1}),Object(o["createVNode"])(_,{style:{margin:"10px 0px"}},{default:c((function(){return[Object(o["createVNode"])(R,{span:2,class:"text"},{default:c((function(){return[w]})),_:1}),Object(o["createVNode"])(R,{span:5,class:"spanText"},{default:c((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.statementInfo.unreceived),513),[[o["vShow"],"view"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])(B,{value:e.statementInfo.unreceived,"onUpdate:value":t[9]||(t[9]=function(t){return e.statementInfo.unreceived=t}),placeholder:"请输入欠款总额"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]])]})),_:1})]})),_:1})]),Object(o["createVNode"])("div",V,[Object(o["createVNode"])(_,{class:"title"},{default:c((function(){return[Object(o["createVNode"])(R,{span:12,style:{"font-size":"24px"}},{default:c((function(){return[I]})),_:1}),Object(o["createVNode"])(R,{span:12,style:{"text-align":"right"}},{default:c((function(){return[Object(o["createVNode"])(C,{shape:"round",style:{border:"2px solid #5259e5",color:"#5259e5"},onClick:e.showDelModal},{default:c((function(){return[S,N]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(F,{columns:e.columns,sourceData:e.deliveryInfo},null,8,["columns","sourceData"])]),Object(o["createVNode"])(z,{visible:e.delShowVisible,"onUpdate:visible":t[10]||(t[10]=function(t){return e.delShowVisible=t}),title:"请选择相应的送货单",centered:"",width:"1080px",closable:!1,"mask-closable":!1,onOk:e.selectDel,okText:"确定",cancelText:"取消"},{default:c((function(){return[Object(o["createVNode"])("div",x,[Object(o["createVNode"])(U,{columns:e.columns,"data-source":e.delDtl,pagination:!1,"row-selection":e.rowSelection},null,8,["columns","data-source","row-selection"])])]})),_:1},8,["visible","onOk"]),Object(o["createVNode"])(z,{visible:e.rejectReasonVisible,"onUpdate:visible":t[12]||(t[12]=function(t){return e.rejectReasonVisible=t}),centered:"",closable:!1,"mask-closable":!1,onOk:t[13]||(t[13]=function(t){return e.handleReceivedStatement("reject")}),okText:"确定",cancelText:"取消"},{default:c((function(){return[Object(o["createVNode"])(P,{value:e.reason,"onUpdate:value":t[11]||(t[11]=function(t){return e.reason=t}),placeholder:"请输入驳回原因",rows:8},null,8,["value"])]})),_:1},8,["visible"])])})),D=(n("7db0"),n("4160"),n("159b"),n("368b"),n("56cd")),k=(n("02cf"),n("9839")),C=(n("a71a"),n("b558")),_=(n("04f3"),n("ed3b")),R=(n("1815"),n("e32c")),B=(n("50ac"),n("9a63")),L=(n("e1f5"),n("5efb")),W=n("9096"),E=n("5f70"),F=n.n(E),U=n("5ed4"),z=n("a13b"),P=n("74d2"),q=n("3f6c"),A=Object(o["defineComponent"])({components:{"a-button":L["a"],"a-row":B["a"],"a-col":R["a"],"a-modal":_["a"],"a-input":C["a"],"a-select":k["b"],BaseTableEditable:W["a"]},setup:function(){var e=Object(o["ref"])("view"),t=Object(o["reactive"])([{title:"序号",dataIndex:"key",key:"key",width:70},{title:"装运单号",dataIndex:"code",key:"code",slots:{customRender:"code"}},{title:"订单日期",dataIndex:"orderDate",key:"orderDate",ellipsis:!0,slots:{customRender:"orderDate"}},{title:"送货日期",dataIndex:"deliveryDate",key:"deliveryDate",ellipsis:!0,slots:{customRender:"deliveryDate"}},{title:"总重量",dataIndex:"totalWeight",key:"totalWeight",ellipsis:!0,slots:{customRender:"totalWeight"}},{title:"总体积",dataIndex:"totalVol",key:"totalVol",ellipsis:!0,slots:{customRender:"totalVol"}},{title:"路线",dataIndex:"route",key:"route",ellipsis:!0,slots:{customRender:"route"}},{title:"运输方式",dataIndex:"shippingType",key:"shippingType",ellipsis:!0,slots:{customRender:"shippingType"}},{title:"客户名称",dataIndex:"shipTo",key:"shipTo",ellipsis:!0,slots:{customRender:"shipTo"}},{title:"联系人",dataIndex:"contacts",key:"contacts",ellipsis:!0,slots:{customRender:"contacts"}},{title:"联系方式",dataIndex:"tel",key:"tel",ellipsis:!0,slots:{customRender:"tel"}},{title:"收货地址",dataIndex:"address",key:"address",ellipsis:!0,slots:{customRender:"address"}},{title:"操作",dataIndex:"operation",key:"operation",slots:{customRender:"operation"}}]),n=Object(o["reactive"])({id:"",code:"",custName:void 0,customerId:"",startTime:F()(),endTime:F()(),statementParty:"",amount:0,received:0,unreceived:0,authorizationCode:"",businessLicense:"",senderBusinessLicense:"",status:"",rowVersion:"",deliveries:[]}),c=Object(o["reactive"])([]),a=function(){e.value="edit"},r=Object(o["ref"])(!1),s=Object(o["reactive"])([]),i=function(){r.value=!0,Object(z["g"])().then((function(e){e.content.forEach((function(e){s.push({key:String(s.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},d=Object(o["reactive"])([]),u=[],l=Object(o["reactive"])({onChange:function(e,t){void 0!==t&&(u=t)}}),f=function(){r.value=!1,d=u,d.forEach((function(e){c.push({key:String(c.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))},b=Object(o["ref"])([n.startTime,n.endTime]),p=Object(o["ref"])(!1),m=Object(o["ref"])(""),h=function(){_["a"].warning({title:"请确认",content:"确定要发送当前送货单吗？",onOk:function(){Object(U["h"])([n.id]).then((function(e){200===e.code&&D["a"].success({message:"成功",description:"发送成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},onCancel:function(){}})};return{sysStatus:e,columns:t,statementInfo:n,deliveryInfo:c,editDtl:a,delShowVisible:r,delDtl:s,showDelModal:i,chooseInfo:d,rowSelection:l,selectDel:f,dateRange:b,rejectReasonVisible:p,reason:m,send:h}},data:function(){return{type:this.$route.query.type,id:this.$route.query.id,customers:[]}},created:function(){"string"===typeof this.id&&"string"===typeof this.type?(this.getData(this.id,this.type),this.sysStatus="view"):(this.loadTenant(),this.sysStatus="edit")},methods:{loadTenant:function(){var e=this;Object(q["a"])({id:localStorage.getItem("doway_cloud_tenant_id")}).then((function(t){200===t.code&&(e.statementInfo.senderBusinessLicense=t.content.creditCode)})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},focus:function(){var e=this;Object(P["b"])().then((function(t){e.customers=t.content}))},handleCustomerSelect:function(e){var t=this.customers.find((function(t){return t.id===e}));this.statementInfo.custName=t.name,this.statementInfo.authorizationCode=t.authorizationCode,this.statementInfo.businessLicense=t.businessLicense},handleCustomerSearch:function(e){var t=this;t.customers=[],Object(P["a"])({name:e}).then((function(e){t.customers=e.content})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},cancelEdit:function(){"string"===typeof this.id?this.sysStatus="view":this.$router.go(-1)},textFormat:function(e){switch(e){case"draft":return"草稿";case"published":return"已发布";case"confirmed":return"已确认";case"rejected":return"已驳回";case"untreated":return"未处理";default:return e}},getData:function(e,t){var n=this;"send"===t?Object(U["c"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.received=e.content.received,n.statementInfo.unreceived=e.content.unreceived,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveries.forEach((function(e){n.deliveryInfo.push({key:String(n.statementInfo.deliveries.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)})):Object(U["e"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.received=e.content.received,n.statementInfo.unreceived=e.content.unreceived,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveryReceiveds.forEach((function(e){n.deliveryInfo.push({key:String(n.deliveryInfo.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion})}))})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},handleReceivedStatement:function(e){var t=this,n={ids:[t.statementInfo.id],result:e,reason:t.reason};Object(U["d"])(n).then((function(e){t.rejectReasonVisible=!1,200===e.code&&D["a"].success({message:"成功",description:"接收成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},save:function(){var e=this;e.statementInfo.startTime=e.dateRange[0],e.statementInfo.endTime=e.dateRange[1],e.statementInfo.deliveries=e.deliveryInfo;var t=e.statementInfo;"string"===typeof e.id?Object(U["i"])(t).then((function(t){e.sysStatus="view","200"===t.code&&D["a"].success({message:"成功",description:"保存成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)})):Object(U["a"])(t).then((function(t){e.sysStatus="view","200"===t.code&&D["a"].success({message:"成功",description:"保存成功"})})).catch((function(e){D["a"].error({message:"错误",description:e}),console.debug(e)}))},dateFormat:function(e){return F()(e).format("YYYY-MM-DD")}}});n("40e8");A.render=T,A.__scopeId="data-v-0ecc83b2";t["default"]=A}}]);