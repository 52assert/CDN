(window["webpackJsonp_cloud-ebl-app"]=window["webpackJsonp_cloud-ebl-app"]||[]).push([["views-statement-RecordDtlPage-vue"],{1815:function(e,t,n){"use strict";n("b550"),n("d79d")},"3f6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/CenterService/api/v1/tenant";function r(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}},"50ac":function(e,t,n){"use strict";n("b550"),n("d79d")},"5ed4":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return v}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/EblService/api/v1/statement";function r(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}function c(e){return Object(o["a"])({url:a+"/loadByIdReceived",method:"get",params:e})}function s(){return Object(o["a"])({url:a+"/queryAll",method:"get"})}function i(e){return Object(o["a"])({url:a+"/queryAllByCustId",method:"get",params:e})}function d(){return Object(o["a"])({url:a+"/queryAllReceived",method:"get"})}function u(e){return Object(o["a"])({url:a+"/generateInvoice",method:"post",data:e})}function l(e){return Object(o["a"])({url:a+"/add",method:"post",data:e})}function f(e){return Object(o["a"])({url:a+"/update",method:"post",data:e})}function m(e){return Object(o["a"])({url:a+"/sendStatement",method:"post",data:e})}function b(e){return Object(o["a"])({url:a+"/handleReceivedStatement",method:"post",data:e})}function p(e){return Object(o["a"])({url:a+"/searchByExp",method:"post",data:e})}function h(e){return Object(o["a"])({url:a+"/searchReceivedByExp",method:"post",data:e})}function v(){return Object(o["a"])({url:a+"/autoCreateStatement",method:"get"})}},"74d2":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/BaseService/api/v1/customer";function r(e){return Object(o["a"])({url:a+"/loadByName",method:"get",params:e})}function c(e){return Object(o["a"])({url:a+"/queryAllContacts",method:"get",params:e})}function s(){return Object(o["a"])({url:a+"/query",method:"get"})}},"7db0":function(e,t,n){"use strict";var o=n("23e7"),a=n("b727").find,r=n("44d2"),c=n("ae40"),s="find",i=!0,d=c(s);s in[]&&Array(1)[s]((function(){i=!1})),o({target:"Array",proto:!0,forced:i||!d},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},8190:function(e,t,n){"use strict";n("90cc")},"829b":function(e,t,n){"use strict";n("b1dc")},"90cc":function(e,t,n){},"9a63":function(e,t,n){"use strict";var o=n("290c");o["a"].install=function(e){e.component(o["a"].name,o["a"])},t["a"]=o["a"]},a13b:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p}));var o=n("b32d"),a="http://cloud.dowaycn.com/Gateway/EblService/api/v1/delivery";function r(e){return Object(o["a"])({url:a+"/loadById",method:"get",params:e})}function c(e){return Object(o["a"])({url:a+"/loadByIdReceived",method:"get",params:e})}function s(e){return Object(o["a"])({url:a+"/generateStatement",method:"post",data:e})}function i(){return Object(o["a"])({url:a+"/queryAll",method:"get"})}function d(){return Object(o["a"])({url:a+"/searchReceivedDelivery",method:"get"})}function u(e){return Object(o["a"])({url:a+"/adds",method:"post",data:e})}function l(e){return Object(o["a"])({url:a+"/handleReceiveDeliveryOrder",method:"post",data:e})}function f(e){return Object(o["a"])({url:a+"/deliveryImport",method:"post",data:e})}function m(e){return Object(o["a"])({url:a+"/sendDeliveryOrder",method:"post",data:e})}function b(e){return Object(o["a"])({url:a+"/searchByExp",method:"post",data:e})}function p(e){return Object(o["a"])({url:a+"/searchReceivedByExp",method:"post",data:e})}},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,r=Function.prototype,c=r.toString,s=/^\s*function ([^ (]*)/,i="name";o&&!(i in r)&&a(r,i,{configurable:!0,get:function(){try{return c.call(this).match(s)[1]}catch(e){return""}}})},b1dc:function(e,t,n){},e32c:function(e,t,n){"use strict";var o=n("da05");o["b"].install=function(e){e.component(o["b"].name,o["b"])},t["a"]=o["b"]},ea45:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),a=Object(o["withScopeId"])("data-v-68f3137b");Object(o["pushScopeId"])("data-v-68f3137b");var r={class:"header"},c=Object(o["createTextVNode"])("发送"),s=Object(o["createTextVNode"])("确认"),i=Object(o["createTextVNode"])("驳回"),d={class:"form"},u=Object(o["createTextVNode"])("基本信息"),l=Object(o["createVNode"])("br",null,null,-1),f=Object(o["createVNode"])("br",null,null,-1),m=Object(o["createVNode"])("br",null,null,-1),b=Object(o["createVNode"])("br",null,null,-1),p=Object(o["createVNode"])("br",null,null,-1),h={class:"table"},v=Object(o["createTextVNode"])("对账详情"),g={style:{height:"475px",overflow:"auto"}};Object(o["popScopeId"])();var y=a((function(e,t,n,y,j,O){var w=Object(o["resolveComponent"])("a-button"),I=Object(o["resolveComponent"])("a-row"),V=Object(o["resolveComponent"])("a-input"),S=Object(o["resolveComponent"])("a-form-item"),D=Object(o["resolveComponent"])("a-select-option"),T=Object(o["resolveComponent"])("a-select"),k=Object(o["resolveComponent"])("a-range-picker"),N=Object(o["resolveComponent"])("a-form"),x=Object(o["resolveComponent"])("a-col"),R=Object(o["resolveComponent"])("BaseTableEditable"),C=Object(o["resolveComponent"])("a-table"),B=Object(o["resolveComponent"])("a-modal"),L=Object(o["resolveComponent"])("a-textarea");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",r,[Object(o["withDirectives"])(Object(o["createVNode"])(w,{loading:e.optLoading,style:{background:"#5259e5",border:"0px",color:"#fff",margin:"0px 10px"},onClick:e.send},{default:a((function(){return[c]})),_:1},8,["loading","onClick"]),[[o["vShow"],("send"===e.type||void 0!==e.id)&&"草稿"===e.statementInfo.status]]),Object(o["withDirectives"])(Object(o["createVNode"])(w,{loading:e.optLoading,style:{background:"#5259e5",border:"0px",color:"#fff",margin:"0px 10px"},onClick:t[1]||(t[1]=function(t){return e.handleReceivedStatement("adopt")})},{default:a((function(){return[s]})),_:1},8,["loading"]),[[o["vShow"],"receive"===e.type&&void 0!==e.id&&"untreated"===e.delivery.status]]),Object(o["withDirectives"])(Object(o["createVNode"])(w,{loading:e.optLoading,style:{background:"#5259e5",border:"0px",color:"#fff",margin:"0px 10px"},onClick:t[2]||(t[2]=function(t){return e.rejectReasonVisible=!0})},{default:a((function(){return[i]})),_:1},8,["loading"]),[[o["vShow"],"receive"===e.type&&void 0!==e.id&&"untreated"===e.delivery.status]])]),Object(o["createVNode"])("div",d,[Object(o["createVNode"])(I,{class:"title"},{default:a((function(){return[u]})),_:1}),Object(o["createVNode"])(N,{ref:"statementForm",model:e.statementInfo,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:a((function(){return[l,Object(o["createVNode"])(S,{label:"对账单号",name:"code","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(V,{value:e.statementInfo.code,"onUpdate:value":t[3]||(t[3]=function(t){return e.statementInfo.code=t}),placeholder:"请输入对账单号"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.code),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(S,{label:"客户名称",name:"custName","has-feedback":"",style:{width:"31%"}},{default:a((function(){return["edit"===e.sysStatus?(Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:0,"show-search":"",value:e.statementInfo.customerId,"onUpdate:value":t[4]||(t[4]=function(t){return e.statementInfo.customerId=t}),placeholder:"请选择客户名称",onFocus:e.focusHandler,style:{width:"100%"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":"无匹配项",onSearch:e.handleCustomerSearch,onSelect:e.handleCustomerSelect},{default:a((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.customers,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(D,{key:e.id},{default:a((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024)})),128))]})),_:1},8,["value","onFocus","onSearch","onSelect"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.custName),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(S,{label:"时间范围",name:"dateRange","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(k,{style:{width:"100%"},value:e.dateRange,"onUpdate:value":t[5]||(t[5]=function(t){return e.dateRange=t}),onChange:t[6]||(t[6]=function(t){return e.selectDate()})},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.startTime))+"——"+Object(o["toDisplayString"])(e.dateFormat(e.statementInfo.endTime)),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),f,m,Object(o["createVNode"])(S,{label:"对账方",name:"statementParty","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(V,{value:e.statementInfo.statementParty,"onUpdate:value":t[7]||(t[7]=function(t){return e.statementInfo.statementParty=t}),placeholder:"请输入对账方名称"},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.statementParty),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(o["createVNode"])(S,{label:"对账金额",name:"amount","has-feedback":"",style:{width:"31%"}},{default:a((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(V,{value:e.statementInfo.amount,"onUpdate:value":t[8]||(t[8]=function(t){return e.statementInfo.amount=t}),placeholder:"请输入对账金额",disabled:""},null,8,["value"]),[[o["vShow"],"edit"===e.sysStatus]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"spanText"},Object(o["toDisplayString"])(e.statementInfo.amount),513),[[o["vShow"],"view"===e.sysStatus]])]})),_:1}),b]})),_:1},8,["model","rules"]),p]),Object(o["createVNode"])("div",h,[Object(o["createVNode"])(I,{class:"title"},{default:a((function(){return[Object(o["createVNode"])(x,{span:12,style:{"font-size":"24px"}},{default:a((function(){return[v]})),_:1}),Object(o["createVNode"])(x,{span:12,style:{"text-align":"right"}})]})),_:1}),Object(o["createVNode"])(R,{columns:e.columns,sourceData:e.deliveryInfo,onRowDelete:e.rowDeleteHandler,editableCols:[]},null,8,["columns","sourceData","onRowDelete"])]),Object(o["createVNode"])(B,{visible:e.delShowVisible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.delShowVisible=t}),title:"请选择相应的送货单",centered:"",width:"1080px",closable:!1,"mask-closable":!1,onOk:e.selectDel,okText:"确定",cancelText:"取消"},{default:a((function(){return[Object(o["createVNode"])("div",g,[Object(o["createVNode"])(C,{columns:e.columns,"data-source":e.delDtl,pagination:!1,"row-selection":e.rowSelection},null,8,["columns","data-source","row-selection"])])]})),_:1},8,["visible","onOk"]),Object(o["createVNode"])(B,{visible:e.rejectReasonVisible,"onUpdate:visible":t[11]||(t[11]=function(t){return e.rejectReasonVisible=t}),centered:"",closable:!1,"mask-closable":!1,onOk:t[12]||(t[12]=function(t){return e.handleReceivedStatement("reject")}),okText:"确定",cancelText:"取消"},{default:a((function(){return[Object(o["createVNode"])(L,{value:e.reason,"onUpdate:value":t[10]||(t[10]=function(t){return e.reason=t}),placeholder:"请输入驳回原因",rows:8},null,8,["value"])]})),_:1},8,["visible"])],64)})),j=(n("7db0"),n("4160"),n("a434"),n("d3b7"),n("159b"),n("368b"),n("56cd")),O=(n("04f3"),n("ed3b")),w=(n("1815"),n("e32c")),I=(n("50ac"),n("9a63")),V=(n("e1f5"),n("5efb")),S=n("9096"),D=n("5f70"),T=n.n(D),k=n("5ed4"),N=n("a13b"),x=n("74d2"),R=n("3f6c"),C=Object(o["defineComponent"])({components:{"a-button":V["a"],"a-row":I["a"],"a-col":w["a"],"a-modal":O["a"],BaseTableEditable:S["a"]},setup:function(){var e=Object(o["ref"])("view"),t=Object(o["ref"])(!1),n=Object(o["ref"])(!1),a=Object(o["reactive"])([{title:"序号",dataIndex:"key",key:"key",width:70},{title:"装运单号",dataIndex:"code",key:"code",slots:{customRender:"code"}},{title:"订单日期",dataIndex:"orderDate",key:"orderDate",ellipsis:!0,slots:{customRender:"orderDate"}},{title:"送货日期",dataIndex:"deliveryDate",key:"deliveryDate",ellipsis:!0,slots:{customRender:"deliveryDate"}},{title:"总重量",dataIndex:"totalWeight",key:"totalWeight",ellipsis:!0,slots:{customRender:"totalWeight"}},{title:"总体积",dataIndex:"totalVol",key:"totalVol",ellipsis:!0,slots:{customRender:"totalVol"}},{title:"路线",dataIndex:"route",key:"route",ellipsis:!0,slots:{customRender:"route"}},{title:"运输方式",dataIndex:"shippingType",key:"shippingType",ellipsis:!0,slots:{customRender:"shippingType"}},{title:"客户名称",dataIndex:"shipTo",key:"shipTo",ellipsis:!0,slots:{customRender:"shipTo"}},{title:"联系人",dataIndex:"contacts",key:"contacts",ellipsis:!0,slots:{customRender:"contacts"}},{title:"联系方式",dataIndex:"tel",key:"tel",ellipsis:!0,slots:{customRender:"tel"}},{title:"收货地址",dataIndex:"address",key:"address",ellipsis:!0,slots:{customRender:"address"}},{title:"操作",dataIndex:"operation",key:"operation",slots:{customRender:"operation"}}]),r=Object(o["reactive"])({id:"",code:"",custName:void 0,customerId:void 0,startTime:T()(),endTime:T()(),statementParty:"",amount:0,received:0,unreceived:0,authorizationCode:"",businessLicense:"",senderBusinessLicense:"",status:"draft",rowVersion:"",deliveries:[]}),c=Object(o["reactive"])([]),s=function(e,t,n){return null===t?Promise.reject(e.message):Promise.resolve()},i=Object(o["reactive"])({code:[{required:!0,message:"对账单号不能为空",trigger:"blur"}],custName:[{required:!0,message:"客户名称不能为空",trigger:"blur"}],statementParty:[{required:!0,message:"对账方名称不能为空",trigger:"blur"}],dateRange:[{validator:s,message:"请选择时间范围",trigger:"blur"}],amount:[{required:!0,message:"对账金额不能为空",trigger:"blur"},{pattern:/^0{1}(\.([1-9][0-9]?|[0-9][1-9])){1}$|^[1-9]+(\.\d{1,2})?$/,required:!0,message:"请输入正确的对账金额",trigger:"blur"}]}),d=Object(o["ref"])(!1),u=Object(o["reactive"])([]),l=function(){d.value=!0,Object(N["g"])().then((function(e){e.content.forEach((function(e){u.push({key:String(u.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion,amount:e.amount})}))})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)}))},f=Object(o["reactive"])([]),m=[],b=Object(o["reactive"])({onChange:function(e,t){void 0!==t&&(m=t)}}),p=function(){d.value=!1,f=m,f.forEach((function(e){c.push({key:String(c.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion,amount:e.amount}),r.amount+=e.amount}))},h=Object(o["ref"])([r.startTime,r.endTime]),v=Object(o["ref"])(!1),g=Object(o["ref"])(""),y=function(){""===r.businessLicense?j["a"].error({message:"错误",description:"未填写客户信用代码，无法识别当前客户，请完善客户信息，并重新选取客户"}):""===r.authorizationCode?j["a"].error({message:"错误",description:"当前所选客户还不是您的合作伙伴"}):O["a"].confirm({title:"请确认",content:"确定要发送当前送货单吗？",cancelText:"取消",okText:"确认",onOk:function(){n.value=!0,Object(k["l"])([r.id]).then((function(e){200===e.code&&j["a"].success({message:"成功",description:"发送成功"})})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)})).finally((function(){n.value=!1}))}})},w=function(e){c.forEach((function(t,n,o){t.key===e&&o.splice(n,1)}))};return{sysStatus:e,saveLoading:t,optLoading:n,columns:a,statementInfo:r,deliveryInfo:c,delShowVisible:d,delDtl:u,showDelModal:l,chooseInfo:f,rowSelection:b,selectDel:p,dateRange:h,rejectReasonVisible:v,reason:g,send:y,rowDeleteHandler:w,rules:i}},data:function(){return{type:this.$route.query.type,id:this.$route.query.id,customers:[]}},created:function(){"string"===typeof this.id&&"string"===typeof this.type?(this.getData(this.id,this.type),this.sysStatus="view"):(this.loadTenant(),this.sysStatus="edit")},methods:{getData:function(e,t){var n=this;"send"===t?Object(k["d"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveries.forEach((function(e){n.deliveryInfo.push({key:String(n.statementInfo.deliveries.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion,amount:e.amount})}))})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)})):Object(k["f"])({id:e}).then((function(e){n.statementInfo.id=e.content.id,n.statementInfo.code=e.content.code,n.statementInfo.custName=e.content.custName,n.statementInfo.customerId=e.content.customerId,n.statementInfo.startTime=e.content.startTime,n.statementInfo.endTime=e.content.endTime,n.statementInfo.statementParty=e.content.statementParty,n.statementInfo.amount=e.content.amount,n.statementInfo.authorizationCode=e.content.authorizationCode,n.statementInfo.businessLicense=e.content.businessLicense,n.statementInfo.senderBusinessLicense=e.content.senderBusinessLicense,n.statementInfo.status=n.textFormat(e.content.status),n.statementInfo.rowVersion=e.content.rowVersion,e.content.deliveryReceiveds.forEach((function(e){n.deliveryInfo.push({key:String(n.deliveryInfo.length+1),id:e.id,code:e.code,orderDate:e.orderDate,deliveryDate:e.deliveryDate,totalWeight:e.totalWeight,totalVol:e.totalVol,route:e.route,shippingType:e.shippingType,shipTo:e.shipTo,contacts:e.contacts,tel:e.tel,address:e.address,rowVersion:e.rowVersion,amount:e.amount})}))})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)}))},loadTenant:function(){var e=this;Object(R["a"])({id:localStorage.getItem("doway_cloud_tenant_id")}).then((function(t){200===t.code&&(e.statementInfo.senderBusinessLicense=t.content.creditCode)})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)}))},focusHandler:function(){var e=this;Object(x["b"])().then((function(t){e.customers=t.content}))},handleCustomerSelect:function(e){var t=this.customers.find((function(t){return t.id===e}));this.statementInfo.custName=t.name,this.statementInfo.authorizationCode=t.authorizationCode,this.statementInfo.businessLicense=t.businessLicense},handleCustomerSearch:function(e){var t=this;t.customers=[],Object(x["a"])({name:e}).then((function(e){t.customers=e.content})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)}))},cancelEdit:function(){"string"===typeof this.id?this.sysStatus="view":this.$router.push({path:"/statementRecord"})},saveHandler:function(){var e=this;e.statementInfo.deliveries=e.deliveryInfo;var t=e.$refs.statementForm;t.validate().then((function(){e.saveLoading=!0,void 0!==e.id?Object(k["m"])(e.statementInfo).then((function(t){e.sysStatus="view","200"===t.code&&j["a"].success({message:"成功",description:"保存成功"})})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)})).finally((function(){e.saveLoading=!1})):Object(k["a"])(e.statementInfo).then((function(t){e.sysStatus="view","200"===t.code&&(e.id=t.content,j["a"].success({message:"成功",description:"保存成功"}))})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)})).finally((function(){e.saveLoading=!1}))})).catch((function(e){console.debug(e)}))},handleReceivedStatement:function(e){var t=this,n={ids:[t.statementInfo.id],result:e,reason:t.reason};t.optLoading=!0,Object(k["e"])(n).then((function(e){t.getData(String(t.id),String(t.type)),t.rejectReasonVisible=!1,200===e.code&&j["a"].success({message:"成功",description:"已处理"})})).catch((function(e){j["a"].error({message:"错误",description:e}),console.debug(e)})).finally((function(){t.optLoading=!1}))},textFormat:function(e){switch(e){case"draft":return"草稿";case"published":return"已发布";case"confirmed":return"已确认";case"rejected":return"已驳回";case"untreated":return"未处理";default:return e}},dateFormat:function(e){return T()(e).format("YYYY-MM-DD")},selectDate:function(){this.statementInfo.startTime=this.dateRange[0],this.statementInfo.endTime=this.dateRange[1]}}});n("8190"),n("829b");C.render=y,C.__scopeId="data-v-68f3137b";t["default"]=C}}]);