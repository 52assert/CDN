(window["webpackJsonp_cloud-base-app"]=window["webpackJsonp_cloud-base-app"]||[]).push([["views-mat-MatIndex-vue"],{"03ca":function(e,t,n){},1815:function(e,t,n){"use strict";n("b550"),n("d79d")},"1dde":function(e,t,n){var c=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!c((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2c67":function(e,t,n){"use strict";n("caee")},"4cdd":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var c=n("b32d"),o="http://cloud.dowaycn.com/Gateway/BaseService/api/v1/mat";function i(){return Object(c["a"])({url:o+"/queryAll",method:"get"})}function a(e){return Object(c["a"])({url:o+"/loadById",method:"get",params:e})}function r(e){return Object(c["a"])({url:o+"/add",method:"post",data:e})}},"4de4":function(e,t,n){"use strict";var c=n("23e7"),o=n("b727").filter,i=n("1dde"),a=n("ae40"),r=i("filter"),l=a("filter");c({target:"Array",proto:!0,forced:!r||!l},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"5e07":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o={class:"header"},i=Object(c["createTextVNode"])(" 新建 "),a=Object(c["createTextVNode"])(" 1 "),r=Object(c["createTextVNode"])(" 2 "),l=Object(c["createTextVNode"])("+");function s(e,t,n,s,u,d){var b=Object(c["resolveComponent"])("a-button"),f=Object(c["resolveComponent"])("a-col"),p=Object(c["resolveComponent"])("a-select-option"),h=Object(c["resolveComponent"])("a-select"),O=Object(c["resolveComponent"])("a-input-search"),j=Object(c["resolveComponent"])("a-input-group"),m=Object(c["resolveComponent"])("a-row"),y=Object(c["resolveComponent"])("BaseTableEditable");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{type:"primary",style:{margin:"0px 10px 10px 10px"},onClick:e.addStatement},{default:Object(c["withCtx"])((function(){return[i]})),_:1},8,["onClick"])]})),_:1}),Object(c["createVNode"])(f,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(h,{value:e.searchType,"onUpdate:value":t[1]||(t[1]=function(t){return e.searchType=t}),placeholder:"选择搜索条件",style:{width:"110px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{value:"1"},{default:Object(c["withCtx"])((function(){return[a]})),_:1}),Object(c["createVNode"])(p,{value:"2"},{default:Object(c["withCtx"])((function(){return[r]})),_:1})]})),_:1},8,["value"]),Object(c["createVNode"])(O,{value:e.searchExp,"onUpdate:value":t[2]||(t[2]=function(t){return e.searchExp=t}),style:{width:"80%"},placeholder:"请输入搜索内容","enter-button":""},null,8,["value"]),Object(c["createVNode"])(b,{type:"primary",style:{margin:"0px 10px 10px 10px"}},{default:Object(c["withCtx"])((function(){return[l]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])("div",null,[Object(c["createVNode"])(y,{sourceData:e.matData,columns:e.columns,destPath:"/matDtl"},null,8,["sourceData","columns"])])])}n("4160"),n("a434"),n("b0c0"),n("d3b7"),n("159b"),n("1815");var u=n("e32c"),d=(n("50ac"),n("9a63")),b=(n("e1f5"),n("5efb")),f=Object(c["withScopeId"])("data-v-4bea3c70");Object(c["pushScopeId"])("data-v-4bea3c70");var p={key:0},h={key:1,class:"editable_row_operation"},O={key:0},j={key:1},m=Object(c["createVNode"])("a",null,"删除",-1),y={key:2},v=Object(c["createVNode"])("span",null,"只读状态",-1);Object(c["popScopeId"])();var g=f((function(e,t,n,o,i,a){var r=Object(c["resolveComponent"])("a-input"),l=Object(c["resolveComponent"])("a-popconfirm"),s=Object(c["resolveComponent"])("a-table");return Object(c["openBlock"])(),Object(c["createBlock"])(s,{columns:e.columns,"data-source":e.sourceData,bordered:"","row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},Object(c["createSlots"])({operation:f((function(t){var n=t.record;return[""!==e.destPath?(Object(c["openBlock"])(),Object(c["createBlock"])("div",p,[Object(c["createVNode"])("a",{onClick:function(t){return e.goDtl(n.id)}},"查看详情",8,["onClick"])])):Object(c["createCommentVNode"])("",!0),""===e.destPath&&e.editableCols.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",h,[n.editable?(Object(c["openBlock"])(),Object(c["createBlock"])("span",O,[Object(c["createVNode"])("a",{onClick:function(t){return e.save(n.key)}},"保存",8,["onClick"]),Object(c["createVNode"])("a",{onClick:function(t){return e.cancel(n.key)}},"放弃",8,["onClick"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",j,[Object(c["createVNode"])("a",Object(c["mergeProps"])(""!==e.editingKey?{disabled:"disabled"}:{},{onClick:function(t){return e.edit(n.key)}})," 编辑 ",16,["onClick"]),Object(c["createVNode"])(l,Object(c["mergeProps"])(""!==e.editingKey?{disabled:"disabled"}:{},{title:"确定要删除吗？",onConfirm:function(t){return e.onDelete(n.key)}}),{default:f((function(){return[m]})),_:1},16,["onConfirm"])]))])):Object(c["createCommentVNode"])("",!0),""===e.destPath&&0===e.editableCols.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",y,[v])):Object(c["createCommentVNode"])("",!0)]})),_:2},[Object(c["renderList"])(e.editableCols,(function(t){return{name:t,fn:f((function(n){var o=n.text,i=n.record;return[Object(c["createVNode"])("div",null,[i.editable?(Object(c["openBlock"])(),Object(c["createBlock"])(r,{key:0,style:{width:"100%"},value:o,onChange:function(n){return e.handleChange(n.target.value,i.key,t)}},null,8,["value","onChange"])):(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o),1)],64))])]}))}}))]),1032,["columns","data-source","row-selection"])})),k=(n("4de4"),n("a71a"),n("b558")),C=(n("b550"),n("03ca"),n("0464")),V=n("f933"),x=n("f54f"),w=n("4d91"),N=n("daa3"),P=n("b488"),B=n("b92b"),D=n("2db5"),S=n.n(D),T=n("e5cd"),_=n("02ea"),I=n("4df5");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=Object(x["a"])(),R=Object(B["a"])(),H={name:"APopconfirm",props:$($({},A),{},{prefixCls:w["a"].string,transitionName:w["a"].string.def("zoom-big"),content:w["a"].any,title:w["a"].any,trigger:A.trigger.def("click"),okType:R.type.def("primary"),disabled:w["a"].bool.def(!1),okText:w["a"].any,cancelText:w["a"].any,icon:w["a"].any,okButtonProps:w["a"].object,cancelButtonProps:w["a"].object,onConfirm:w["a"].func,onCancel:w["a"].func,onVisibleChange:w["a"].func,"onUpdate:visible":w["a"].func}),mixins:[P["a"]],watch:{visible:function(e){this.sVisible=e}},setup:function(){return{configProvider:Object(c["inject"])("configProvider",I["a"])}},data:function(){var e=Object(N["h"])(this),t={sVisible:!1};return"visible"in e&&(t.sVisible=e.visible),"defaultVisible"in e&&(t.sVisible=e.defaultVisible),t},methods:{onConfirmHandle:function(e){this.setVisible(!1,e),this.$emit("confirm",e)},onCancelHandle:function(e){this.setVisible(!1,e),this.$emit("cancel",e)},onVisibleChangeHandle:function(e){var t=this.$props.disabled;t||this.setVisible(e)},setVisible:function(e,t){Object(N["m"])(this,"visible")||this.setState({sVisible:e}),this.$emit("update:visible",e),this.$emit("visibleChange",e,t)},getPopupDomNode:function(){return this.$refs.tooltip.getPopupDomNode()},renderOverlay:function(e,t){var n=this,o=this.okType,i=this.okButtonProps,a=this.cancelButtonProps,r=Object(N["e"])(this,"icon")||Object(c["createVNode"])(S.a,null,null),l=Object(N["q"])($({size:"small",onClick:this.onCancelHandle},a)),s=Object(N["q"])($({type:o,size:"small",onClick:this.onConfirmHandle},i));return Object(c["createVNode"])("div",{class:"".concat(e,"-inner-content")},[Object(c["createVNode"])("div",{class:"".concat(e,"-message")},[r,Object(c["createVNode"])("div",{class:"".concat(e,"-message-title")},[Object(N["e"])(this,"title")])]),Object(c["createVNode"])("div",{class:"".concat(e,"-buttons")},[Object(c["createVNode"])(b["a"],l,{default:function(){return[Object(N["e"])(n,"cancelText")||t.cancelText]}}),Object(c["createVNode"])(b["a"],s,{default:function(){return[Object(N["e"])(n,"okText")||t.okText]}})])])}},render:function(){var e,t=this,n=Object(N["h"])(this),o=n.prefixCls,i=this.configProvider.getPrefixCls,a=i("popover",o),r=Object(C["a"])(n,["title","content","cancelText","okText","onUpdate:visible"]),l=Object(c["createVNode"])(T["a"],{componentName:"Popconfirm",defaultLocale:_["a"].Popconfirm,children:function(e){return t.renderOverlay(a,e)}},null),s=$($({},r),{},{title:l,prefixCls:a,visible:this.sVisible,ref:"tooltip",onVisibleChange:this.onVisibleChangeHandle});return Object(c["createVNode"])(V["a"],s,{default:function(){return[null===(e=t.$slots)||void 0===e?void 0:e.default()]}})},install:function(e){e.component(H.name,H)}},M=H,q=Object(c["defineComponent"])({props:{columns:{type:Array,default:function(){return[]}},sourceData:{type:Array,default:function(){return[]}},editableCols:{type:Array,default:function(){return[]}},destPath:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}}},components:{"a-popconfirm":M,"a-input":k["a"]},data:function(){return{editingKey:"",selectedRowKeys:[]}},computed:{hasSelected:function(){return this.selectedRowKeys.length>0}},methods:{goDtl:function(e){console.log(e),this.$router.push({path:this.destPath,query:{id:e,type:this.type}})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.$emit("selected",t)},edit:function(e){this.editingKey=e;var t=this.sourceData.filter((function(t){return e===t.key}))[0];t&&(t.editable=!0),this.$emit("rowEdit",t)},save:function(e){this.editingKey="";var t=this.sourceData.filter((function(t){return e===t.key}))[0];t&&delete t.editable},cancel:function(e){this.editingKey&&(this.editingKey=""),this.$emit("cancelEdit",e);var t=this.sourceData.filter((function(t){return e===t.key}))[0];t&&delete t.editable},handleChange:function(e,t,n){var c=this.sourceData.filter((function(e){return t===e.key}))[0];c&&(c[n]=e),this.$emit("rowChange",c)},onDelete:function(e){this.editingKey&&(this.editingKey=""),this.$emit("rowDelete",e)}}});n("2c67");q.render=g,q.__scopeId="data-v-4bea3c70";var U=q,z=n("4cdd"),J=Object(c["defineComponent"])({components:{"a-button":b["a"],"a-row":d["a"],"a-col":u["a"],BaseTableEditable:U},setup:function(){var e=Object(c["reactive"])([{title:"序号",dataIndex:"key",key:"key",width:70},{title:"商品编码",dataIndex:"code",key:"code",ellipsis:!0},{title:"商品名称",dataIndex:"name",key:"name",ellipsis:!0},{title:"商品类型",dataIndex:"type",key:"type",ellipsis:!0},{title:"计量单位",dataIndex:"uom",key:"uom",ellipsis:!0},{title:"采购单价",dataIndex:"purPrice",key:"purPrice",ellipsis:!0},{title:"销售单价",dataIndex:"salesPrice",key:"salesPrice",ellipsis:!0},{title:"安全库存",dataIndex:"safeStock",key:"safeStock",ellipsis:!0},{title:"操作",dataIndex:"operation",key:"operation",slots:{customRender:"operation"}}]),t=Object(c["reactive"])([]),n=function(){Object(z["b"])().then((function(e){t.splice(0),e.content.forEach((function(e){t.push({key:String(t.length+1),id:e.id,code:e.code,name:e.name,type:e.type,uom:e.uom,purPrice:e.purPrice,salesPrice:e.salesPrice,safeStock:e.safeStock,rowVersion:e.rowVersion})}))})).catch((function(e){console.log("11")})).finally((function(){console.log("11")}))};return Object(c["onMounted"])((function(){n()})),{columns:e,matData:t,selectMat:n}},methods:{addStatement:function(){this.$router.push({path:"/matDtl"})}}});n("effe");J.render=s;t["default"]=J},7395:function(e,t,n){},8418:function(e,t,n){"use strict";var c=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=c(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},a434:function(e,t,n){"use strict";var c=n("23e7"),o=n("23cb"),i=n("a691"),a=n("50c4"),r=n("7b0b"),l=n("65f0"),s=n("8418"),u=n("1dde"),d=n("ae40"),b=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,O=9007199254740991,j="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!b||!f},{splice:function(e,t){var n,c,u,d,b,f,m=r(this),y=a(m.length),v=o(e,y),g=arguments.length;if(0===g?n=c=0:1===g?(n=0,c=y-v):(n=g-2,c=h(p(i(t),0),y-v)),y+n-c>O)throw TypeError(j);for(u=l(m,c),d=0;d<c;d++)b=v+d,b in m&&s(u,d,m[b]);if(u.length=c,n<c){for(d=v;d<y-c;d++)b=d+c,f=d+n,b in m?m[f]=m[b]:delete m[f];for(d=y;d>y-c+n;d--)delete m[d-1]}else if(n>c)for(d=y-c;d>v;d--)b=d+c-1,f=d+n-1,b in m?m[f]=m[b]:delete m[f];for(d=0;d<n;d++)m[d+v]=arguments[d+2];return m.length=y-c+n,u}})},caee:function(e,t,n){},e32c:function(e,t,n){"use strict";var c=n("da05");c["b"].install=function(e){e.component(c["b"].name,c["b"])},t["a"]=c["b"]},effe:function(e,t,n){"use strict";n("7395")}}]);