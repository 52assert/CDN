(window["webpackJsonp_cloud-base-app"]=window["webpackJsonp_cloud-base-app"]||[]).push([["views-customer-CustomerDtl-vue"],{"0df5":function(e,t,c){"use strict";c("547d")},"547d":function(e,t,c){},"6bf7":function(e,t,c){},"87f7":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),r=c("50df"),o=c.n(r),n=Object(a["withScopeId"])("data-v-dbf84acc");Object(a["pushScopeId"])("data-v-dbf84acc");var s={class:"header"},u=Object(a["createTextVNode"])(" 编辑 "),i=Object(a["createTextVNode"])(" 删除 "),l=Object(a["createTextVNode"])(" 保存 "),d=Object(a["createVNode"])("span",{style:{"margin-left":"60px","font-size":"20px"}},"你确定要删除吗? ",-1),b={style:{padding:"10px"}},m={class:"page_box"},f=Object(a["createVNode"])("span",{class:"title"},"基本信息",-1),v=Object(a["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1),O={style:{height:"130px",position:"relative","margin-bottom":"15px"}},j=Object(a["createVNode"])("div",{class:"avatar_img"},[Object(a["createVNode"])("img",{src:o.a,height:"100"})],-1),h={class:"common_info"},p=Object(a["createVNode"])("br",null,null,-1),w=Object(a["createVNode"])("br",null,null,-1),y={class:"page_box"},V=Object(a["createVNode"])("span",{class:"title"},"付款管理",-1),N=Object(a["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1),g=Object(a["createTextVNode"])(" 0天 "),S=Object(a["createTextVNode"])(" 30天"),k=Object(a["createTextVNode"])(" 60天 "),_=Object(a["createTextVNode"])(" 90天"),D=Object(a["createTextVNode"])(" 电汇 "),T=Object(a["createTextVNode"])(" 票汇 "),C=Object(a["createTextVNode"])(" 现金 "),x=Object(a["createTextVNode"])(" 人民币 "),B=Object(a["createTextVNode"])(" 美元 "),U=Object(a["createTextVNode"])(" 增值税普通发票 "),q=Object(a["createTextVNode"])(" 增值税专用发票 "),R={class:"page_box"},L=Object(a["createVNode"])("span",{class:"title"},"对账单规则",-1),F=Object(a["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1),I=Object(a["createTextVNode"])(" 周 "),$=Object(a["createTextVNode"])(" 月"),A=Object(a["createTextVNode"])(" 星期一 "),G=Object(a["createTextVNode"])(" 星期二"),M=Object(a["createTextVNode"])(" 星期三 "),z=Object(a["createTextVNode"])(" 星期四"),E=Object(a["createTextVNode"])(" 星期五 "),J=Object(a["createTextVNode"])(" 星期六"),P=Object(a["createTextVNode"])(" 星期日 "),W=Object(a["createTextVNode"])(" 1号 "),Z=Object(a["createTextVNode"])(" 5号"),H=Object(a["createTextVNode"])(" 10号 "),K=Object(a["createTextVNode"])(" 15号"),Q=Object(a["createTextVNode"])(" 20号 "),X=Object(a["createTextVNode"])(" 25号"),Y={class:"page_box"},ee={class:"title"},te=Object(a["createTextVNode"])("联系人 "),ce=Object(a["createVNode"])("i",{class:"iconfont icon-add"},null,-1),ae=Object(a["createVNode"])("hr",{style:{border:"0",background:"#dadada",height:"1px"}},null,-1),re=Object(a["createVNode"])("img",{src:o.a,height:"60"},null,-1),oe=Object(a["createVNode"])("br",null,null,-1),ne=Object(a["createTextVNode"])(" 取消 "),se=Object(a["createTextVNode"])(" 保存 ");Object(a["popScopeId"])();var ue=n((function(e,t,c,r,o,ue){var ie=Object(a["resolveComponent"])("a-button"),le=Object(a["resolveComponent"])("a-modal"),de=Object(a["resolveComponent"])("a-input"),be=Object(a["resolveComponent"])("a-form-item"),me=Object(a["resolveComponent"])("a-form"),fe=Object(a["resolveComponent"])("a-select-option"),ve=Object(a["resolveComponent"])("a-select"),Oe=Object(a["resolveComponent"])("CommonCard"),je=Object(a["resolveComponent"])("a-col"),he=Object(a["resolveComponent"])("a-row");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("div",s,[Object(a["withDirectives"])(Object(a["createVNode"])(ie,{style:{margin:"10px","background-color":"#5259e5",color:"#fff"},onClick:t[1]||(t[1]=function(t){return e.sysStatus="edit"})},{default:n((function(){return[u]})),_:1},512),[[a["vShow"],"view"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])(ie,{style:{margin:"10px",color:"#5259e5",border:"1px solid #5259e5"},plain:"",onClick:t[2]||(t[2]=function(t){return e.delVisible=!0})},{default:n((function(){return[i]})),_:1},512),[[a["vShow"],"view"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])(ie,{loading:e.saveLoading,style:{margin:"10px","background-color":"#5259e5",color:"#fff"},onClick:e.save},{default:n((function(){return[l]})),_:1},8,["loading","onClick"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["createVNode"])(le,{title:"删除操作",visible:e.delVisible,"onUpdate:visible":t[3]||(t[3]=function(t){return e.delVisible=t}),"confirm-loading":e.confirmLoading,onOk:e.handleDelOk,okText:"确定",cancelText:"取消",style:{color:"red"},width:"400px"},{default:n((function(){return[d]})),_:1},8,["visible","confirm-loading","onOk"])]),Object(a["createVNode"])("div",b,[Object(a["createVNode"])("div",m,[f,v,Object(a["createVNode"])("div",O,[j,Object(a["createVNode"])("div",h,[Object(a["createVNode"])(me,{ref:"customerBase1Form",model:e.customer,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:n((function(){return[Object(a["createVNode"])(be,{label:"编码",name:"code","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{disabled:"edit"===e.sysStatus&&""!==e.id&&void 0!==e.id,value:e.customer.code,"onUpdate:value":t[4]||(t[4]=function(t){return e.customer.code=t}),placeholder:"请输入编码"},null,8,["disabled","value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.code),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),p,Object(a["createVNode"])(be,{label:"名称",name:"name","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.name,"onUpdate:value":t[5]||(t[5]=function(t){return e.customer.name=t}),placeholder:"请输入名称"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.name),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1})]})),_:1},8,["model","rules"])])]),Object(a["createVNode"])(me,{ref:"customerBase2Form",model:e.customer,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:n((function(){return[Object(a["createVNode"])(be,{label:"简称",name:"shortName","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.shortName,"onUpdate:value":t[6]||(t[6]=function(t){return e.customer.shortName=t}),placeholder:"请输入简称"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.shortName),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"负责人",name:"salesGroup","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.salesGroup,"onUpdate:value":t[7]||(t[7]=function(t){return e.customer.salesGroup=t}),placeholder:"请输入负责人"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.salesGroup),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"邮箱",name:"email","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.email,"onUpdate:value":t[8]||(t[8]=function(t){return e.customer.email=t}),placeholder:"请输入邮箱"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.email),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),w,Object(a["createVNode"])(be,{label:"联系方式",name:"tel","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.tel,"onUpdate:value":t[9]||(t[9]=function(t){return e.customer.tel=t}),placeholder:"请输入联系方式"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.tel),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"信用代码",name:"businessLicense","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.businessLicense,"onUpdate:value":t[10]||(t[10]=function(t){return e.customer.businessLicense=t}),placeholder:"请输入信用代码"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.businessLicense),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"地址",name:"address","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.address,"onUpdate:value":t[11]||(t[11]=function(t){return e.customer.address=t}),placeholder:"请输入地址"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.address),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1})]})),_:1},8,["model","rules"])]),Object(a["createVNode"])("div",y,[V,N,Object(a["createVNode"])(me,{ref:"customerPayForm",model:e.customer,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:n((function(){return[Object(a["createVNode"])(be,{label:"银行账号",name:"regBankAccount","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.regBankAccount,"onUpdate:value":t[12]||(t[12]=function(t){return e.customer.regBankAccount=t}),placeholder:"请输入银行账号"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.regBankAccount),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"开户行",name:"regBank","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.regBank,"onUpdate:value":t[13]||(t[13]=function(t){return e.customer.regBank=t}),placeholder:"请输入开户行"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.regBank),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"付款条件",name:"paymentTerms","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.paymentTerms,"onUpdate:value":t[14]||(t[14]=function(t){return e.customer.paymentTerms=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"0天"},{default:n((function(){return[g]})),_:1}),Object(a["createVNode"])(fe,{value:"30天"},{default:n((function(){return[S]})),_:1}),Object(a["createVNode"])(fe,{value:"60天"},{default:n((function(){return[k]})),_:1}),Object(a["createVNode"])(fe,{value:"90天"},{default:n((function(){return[_]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.paymentTerms),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"付款方式",name:"payType","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.payType,"onUpdate:value":t[15]||(t[15]=function(t){return e.customer.payType=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"电汇"},{default:n((function(){return[D]})),_:1}),Object(a["createVNode"])(fe,{value:"票汇"},{default:n((function(){return[T]})),_:1}),Object(a["createVNode"])(fe,{value:"现金"},{default:n((function(){return[C]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.payType),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"交易货币",name:"currencyCode","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.currencyCode,"onUpdate:value":t[16]||(t[16]=function(t){return e.customer.currencyCode=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"人民币"},{default:n((function(){return[x]})),_:1}),Object(a["createVNode"])(fe,{value:"美元"},{default:n((function(){return[B]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.currencyCode),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"税率",name:"taxRate","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customer.taxRate,"onUpdate:value":t[17]||(t[17]=function(t){return e.customer.taxRate=t}),placeholder:"请输入税率"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.taxRate),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"发票类型",name:"invoiceType","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.invoiceType,"onUpdate:value":t[18]||(t[18]=function(t){return e.customer.invoiceType=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"增值税普通发票"},{default:n((function(){return[U]})),_:1}),Object(a["createVNode"])(fe,{value:"增值税专用发票"},{default:n((function(){return[q]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.invoiceType),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1})]})),_:1},8,["model","rules"])]),Object(a["createVNode"])("div",R,[L,F,Object(a["createVNode"])(me,{ref:"statementRuleForm",model:e.customer,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:n((function(){return[Object(a["createVNode"])(be,{label:"生成条件",name:"statementRule","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{onSelect:e.selectRule,value:e.customer.statementRule,"onUpdate:value":t[19]||(t[19]=function(t){return e.customer.statementRule=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"week"},{default:n((function(){return[I]})),_:1}),Object(a["createVNode"])(fe,{value:"month"},{default:n((function(){return[$]})),_:1})]})),_:1},8,["onSelect","value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.statementRule),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"生成时间",name:"statementTime","has-feedback":"",style:{width:"31%"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.statementTime,"onUpdate:value":t[20]||(t[20]=function(t){return e.customer.statementTime=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"1"},{default:n((function(){return[A]})),_:1}),Object(a["createVNode"])(fe,{value:"2"},{default:n((function(){return[G]})),_:1}),Object(a["createVNode"])(fe,{value:"3"},{default:n((function(){return[M]})),_:1}),Object(a["createVNode"])(fe,{value:"4"},{default:n((function(){return[z]})),_:1}),Object(a["createVNode"])(fe,{value:"5"},{default:n((function(){return[E]})),_:1}),Object(a["createVNode"])(fe,{value:"6"},{default:n((function(){return[J]})),_:1}),Object(a["createVNode"])(fe,{value:"7"},{default:n((function(){return[P]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.statementTime),513),[[a["vShow"],"view"===e.sysStatus]])],512),[[a["vShow"],e.showWeekTime]]),Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["withDirectives"])(Object(a["createVNode"])("div",null,[Object(a["createVNode"])(ve,{value:e.customer.statementTime,"onUpdate:value":t[21]||(t[21]=function(t){return e.customer.statementTime=t}),style:{width:"100%"}},{default:n((function(){return[Object(a["createVNode"])(fe,{value:"1"},{default:n((function(){return[W]})),_:1}),Object(a["createVNode"])(fe,{value:"5"},{default:n((function(){return[Z]})),_:1}),Object(a["createVNode"])(fe,{value:"10"},{default:n((function(){return[H]})),_:1}),Object(a["createVNode"])(fe,{value:"15"},{default:n((function(){return[K]})),_:1}),Object(a["createVNode"])(fe,{value:"20"},{default:n((function(){return[Q]})),_:1}),Object(a["createVNode"])(fe,{value:"25"},{default:n((function(){return[X]})),_:1})]})),_:1},8,["value"])],512),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customer.statementTime),513),[[a["vShow"],"view"===e.sysStatus]])],512),[[a["vShow"],e.showMonthTime]])]})),_:1})]})),_:1},8,["model","rules"])]),Object(a["createVNode"])("div",Y,[Object(a["createVNode"])("span",ee,[te,Object(a["withDirectives"])(Object(a["createVNode"])(ie,{style:{margin:"10px",color:"#5259e5",border:"1px solid #5259e5"},plain:"",onClick:e.showModel},{icon:n((function(){return[ce]})),_:1},8,["onClick"]),[[a["vShow"],"edit"===e.sysStatus]])]),ae,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.customerContacts,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])(Oe,{key:t.id,commonItem:t,commonType:"contact",onRemoveContact:e.removeContactHandler,sysStatus:e.sysStatus},null,8,["commonItem","onRemoveContact","sysStatus"])})),128)),Object(a["createVNode"])(le,{visible:e.visible,"onUpdate:visible":t[27]||(t[27]=function(t){return e.visible=t}),title:"联系人","mask-closable":!1,onOk:e.addContact},{footer:n((function(){return[Object(a["createVNode"])(ie,{key:"back",onClick:t[26]||(t[26]=function(t){return e.visible=!1})},{default:n((function(){return[ne]})),_:1}),Object(a["createVNode"])(ie,{key:"submit",type:"primary",onClick:e.addContact},{default:n((function(){return[se]})),_:1},8,["onClick"])]})),default:n((function(){return[Object(a["createVNode"])(he,null,{default:n((function(){return[Object(a["createVNode"])(je,{span:3},{default:n((function(){return[re]})),_:1}),Object(a["createVNode"])(je,{span:21},{default:n((function(){return[Object(a["createVNode"])(me,{ref:"customerContactBaseForm",model:e.customerContact,rules:e.rules,layout:"inline","label-col":{offset:1,span:5},"wrapper-col":{offset:1,span:17}},{default:n((function(){return[Object(a["createVNode"])(be,{label:"姓名",name:"contacts","has-feedback":"",style:{width:"45%",margin:"10px"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customerContact.contacts,"onUpdate:value":t[22]||(t[22]=function(t){return e.customerContact.contacts=t}),placeholder:"请输入姓名"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customerContact.contacts),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"电话",name:"tel","has-feedback":"",style:{width:"45%",margin:"10px"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customerContact.tel,"onUpdate:value":t[23]||(t[23]=function(t){return e.customerContact.tel=t}),placeholder:"请输入电话"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customerContact.tel),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),oe,Object(a["createVNode"])(be,{label:"邮箱",name:"email","has-feedback":"",style:{width:"45%",margin:"10px"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customerContact.email,"onUpdate:value":t[24]||(t[24]=function(t){return e.customerContact.email=t}),placeholder:"请输入邮箱"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customerContact.email),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1}),Object(a["createVNode"])(be,{label:"部门",name:"department","has-feedback":"",style:{width:"45%",margin:"10px"}},{default:n((function(){return[Object(a["withDirectives"])(Object(a["createVNode"])(de,{value:e.customerContact.department,"onUpdate:value":t[25]||(t[25]=function(t){return e.customerContact.department=t}),placeholder:"请输入部门"},null,8,["value"]),[[a["vShow"],"edit"===e.sysStatus]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e.customerContact.department),513),[[a["vShow"],"view"===e.sysStatus]])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})]})),_:1},8,["visible","onOk"])])])],64)})),ie=(c("4160"),c("a434"),c("d3b7"),c("159b"),c("368b"),c("56cd")),le=(c("a71a"),c("b558")),de=(c("04f3"),c("ed3b")),be=(c("1815"),c("e32c")),me=(c("50ac"),c("9a63")),fe=(c("e1f5"),c("5efb")),ve=c("74d2"),Oe=c("5ed0"),je=Object(a["defineComponent"])({components:{CommonCard:Oe["a"],"a-button":fe["a"],"a-row":me["a"],"a-col":be["a"],"a-modal":de["a"],"a-input":le["a"]},setup:function(){var e=Object(a["ref"])(!0),t=Object(a["ref"])(!1),c=Object(a["ref"])(!1),r=Object(a["ref"])(!1),o=Object(a["ref"])(!1),n=Object(a["ref"])(!1),s=Object(a["ref"])("view"),u=Object(a["reactive"])([]),i=function(e,t,c){return null===t?Promise.reject(e.message):Promise.resolve()},l=Object(a["reactive"])({contacts:[{required:!0,message:"请输入姓名",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],shortName:[{required:!0,message:"请输入简称",trigger:"blur"}],salesGroup:[{required:!0,message:"请选择负责人",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,required:!0,message:"请输入正确的邮箱",trigger:"blur"}],tel:[{required:!0,message:"请输入联系方式",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,required:!0,message:"请输入正确的联系方式",trigger:"blur"}],businessLicense:[{required:!0,message:"请输入信用代码",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],regBankAccount:[{required:!0,message:"请输入银行账号",trigger:"blur"},{pattern:/^\d{16}|\d{19}$/,required:!0,message:"请输入正确的银行账号",trigger:"blur"}],regBank:[{required:!0,message:"请输入开户行",trigger:"blur"}],paymentTerms:[{required:!0,message:"请输入付款条件",trigger:"blur"}],payType:[{required:!0,message:"请输入付款方式",trigger:"blur"}],currencyCode:[{required:!0,message:"请输入交易货币",trigger:"blur"}],taxRate:[{required:!0,validator:i,message:"请输入税率",trigger:"blur"},{pattern:/^0{1}(\.([1-9][0-9]?|[0-9][1-9])){1}$|^[1-9]+(\.\d{1,2})?$/,required:!0,message:"请输入正确的税率",trigger:"blur"}],invoiceType:[{required:!0,message:"请输入发票类型",trigger:"blur"}]}),d=Object(a["reactive"])({id:"",code:"",name:"",shortName:"",salesGroup:"",email:"",tel:"",businessLicense:"",address:"",rowVersion:"",regBankAccount:"",regBank:"",paymentTerms:"0天",payType:"电汇",currencyCode:"人民币",taxRate:"",invoiceType:"增值税普通发票",customerContacts:[],statementRule:"周",statementTime:"星期一"}),b=Object(a["reactive"])([]),m=Object(a["reactive"])({id:"",customerId:"",contacts:"",department:"",tel:"",mobile:"",email:"",rowVersion:""});return{showWeekTime:e,showMonthTime:t,rules:l,sysStatus:s,customer:d,customerContact:m,customerContacts:b,visible:n,delVisible:c,confirmLoading:r,saveLoading:o,ids:u}},data:function(){return{id:this.$route.query.customerId}},created:function(){"string"===typeof this.id?(this.getData(this.id),this.sysStatus="view"):this.sysStatus="edit"},methods:{getData:function(e){var t=this;Object(ve["d"])({id:e}).then((function(e){t.customer.id=e.content.id,t.customer.code=e.content.code,t.customer.name=e.content.name,t.customer.shortName=e.content.shortName,t.customer.salesGroup=e.content.salesGroup,t.customer.address=e.content.address,t.customer.email=e.content.email,t.customer.tel=e.content.tel,t.customer.businessLicense=e.content.businessLicense,t.customer.rowVersion=e.content.rowVersion,t.customer.regBankAccount=e.content.regBankAccount,t.customer.regBank=e.content.regBank,t.customer.paymentTerms=e.content.paymentTerms,t.customer.payType=e.content.payType,t.customer.currencyCode=e.content.currencyCode,t.customer.taxRate=e.content.taxRate,t.customer.invoiceType=e.content.invoiceType,t.customer.statementRule=e.content.statementRule,t.customer.statementTime=e.content.statementTime,null!=e.content.customerContacts&&e.content.customerContacts.forEach((function(e){t.customerContacts.push({id:e.id,customerId:e.customerId,contacts:e.contacts,department:e.department,tel:e.tel,mobile:e.mobile,email:e.email,rowVersion:e.rowVersion}),t.customerContacts.forEach((function(e,t){e.contacts=null===e.contacts?"":e.contacts,e.tel=null===e.tel?"":e.tel,e.email=null===e.email?"":e.email,e.department=null===e.department?"":e.department,e.showDetailInfo=[{key0:"姓名："+e.contacts},{key1:"电话："+e.tel},{key2:"邮箱："+e.email},{key3:"部门："+e.department}]}))}))}))},selectRule:function(e){"周"===e?(this.showWeekTime=!0,this.showMonthTime=!1,this.customer.statementTime="星期一"):"月"===e&&(this.showWeekTime=!1,this.showMonthTime=!0,this.customer.statementTime="1号")},removeContactHandler:function(e){this.customerContacts.forEach((function(t,c,a){t.id===e&&a.splice(c,1)}))},save:function(){var e=this,t=e.$refs.customerBase1Form,c=e.$refs.customerBase2Form,a=e.$refs.customerPayForm;e.$refs.statementRuleForm;t.validate().then((function(){c.validate().then((function(){a.validate().then((function(){e.customer.customerContacts=e.customerContacts,e.customerContacts.length<=0?ie["a"].warning({message:"警告",description:"客户信息至少需要一位联系人"}):(e.saveLoading=!0,e.id?(e.customer.id=e.id,Object(ve["g"])(e.customer).then((function(r){t.resetFields(),c.resetFields(),a.resetFields(),ie["a"].success({message:"成功",description:"客户信息修改成功"}),e.sysStatus="view",e.$router.push({path:"/customerIndex"})})).catch((function(e){ie["a"].error({message:"错误",description:"客户信息修改失败"}),console.debug(e)})).finally((function(){e.saveLoading=!1}))):Object(ve["a"])(e.customer).then((function(t){e.id=t.content,ie["a"].success({message:"成功",description:"客户信息添加成功"}),e.sysStatus="view",e.$router.push({path:"/customerIndex"})})).catch((function(e){ie["a"].error({message:"错误",description:"客户信息添加失败"}),console.debug(e)})).finally((function(){e.saveLoading=!1})))}))}))}))},handleDelOk:function(){var e=this;e.ids.push(e.id),e.confirmLoading=!0,Object(ve["b"])(e.ids).then((function(t){ie["a"].success({message:"成功",description:"客户信息删除成功"}),e.delVisible=!1,e.$router.push({path:"/customerIndex"})})).catch((function(e){ie["a"].error({message:"错误",description:e}),console.debug(e)})).finally((function(){e.confirmLoading=!1}))},showModel:function(){this.customerContact.contacts="",this.customerContact.tel="",this.customerContact.email="",this.customerContact.department="",this.visible=!0},addContact:function(){var e=this,t=e.$refs.customerContactBaseForm,c=JSON.parse(JSON.stringify(e.customerContact));t.validate().then((function(){e.customerContacts.push(c),e.customerContacts.forEach((function(e,t){e.showDetailInfo=[{key0:"姓名："+e.contacts},{key1:"电话："+e.tel},{key2:"邮箱："+e.email},{key3:"部门："+e.department}]})),e.visible=!1}))}}});c("df06"),c("0df5");je.render=ue,je.__scopeId="data-v-dbf84acc";t["default"]=je},df06:function(e,t,c){"use strict";c("6bf7")}}]);